module.exports=[11937,a=>{"use strict";var b=a.i(21393);async function c(a=0){await (0,b.invoke)("plugin:process|exit",{code:a})}async function d(){await (0,b.invoke)("plugin:process|restart")}a.s(["exit",()=>c,"relaunch",()=>d])},89158,a=>{"use strict";var b=a.i(17163),c=a.i(11937),d=a.i(99570),e=a.i(68114),f=a.i(91119);function g({children:a,className:c,variant:d="destructive"}){return(0,b.jsx)("main",{className:(0,e.cn)("h-full flex items-center justify-center p-4",{destructive:"bg-destructive/5",warning:"bg-warning/5",info:"bg-muted/50"}[d],c),children:(0,b.jsx)(f.Card,{className:"max-w-md w-full p-8 text-center space-y-6",children:a})})}function h({children:a,className:c}){return(0,b.jsx)("h1",{className:(0,e.cn)("text-2xl font-bold tracking-tight text-foreground",c),children:a})}function i({children:a,className:c}){return(0,b.jsx)("p",{className:(0,e.cn)("text-sm text-muted-foreground",c),children:a})}function j({children:a,className:c}){return(0,b.jsx)("div",{className:(0,e.cn)("flex flex-col sm:flex-row items-center justify-center gap-3",c),children:a})}function k(){return(0,b.jsxs)(g,{children:[(0,b.jsx)(h,{children:"We're fixing it"}),(0,b.jsxs)(i,{children:["The app encountered an error and needs to be restarted.",(0,b.jsx)("br",{}),"We know about it and we're working to fix it."]}),(0,b.jsx)(j,{children:(0,b.jsx)(d.Button,{size:"lg",onClick:c.relaunch,children:"Relaunch app"})})]})}a.s(["default",()=>k],89158)},60355,a=>{"use strict";var b=a.i(84280);let c=(0,b.createContext)(null),d={didCatch:!1,error:null};class e extends b.Component{constructor(a){super(a),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=d}static getDerivedStateFromError(a){return{didCatch:!0,error:a}}resetErrorBoundary(){let{error:a}=this.state;if(null!==a){for(var b,c,e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];null==(b=(c=this.props).onReset)||b.call(c,{args:f,reason:"imperative-api"}),this.setState(d)}}componentDidCatch(a,b){var c,d;null==(c=(d=this.props).onError)||c.call(d,a,b)}componentDidUpdate(a,b){let{didCatch:c}=this.state,{resetKeys:e}=this.props;if(c&&null!==b.error&&function(){let a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return a.length!==b.length||a.some((a,c)=>!Object.is(a,b[c]))}(a.resetKeys,e)){var f,g;null==(f=(g=this.props).onReset)||f.call(g,{next:e,prev:a.resetKeys,reason:"keys"}),this.setState(d)}}render(){let{children:a,fallbackRender:d,FallbackComponent:e,fallback:f}=this.props,{didCatch:g,error:h}=this.state,i=a;if(g){let a={error:h,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof d)i=d(a);else if(e)i=(0,b.createElement)(e,a);else if(void 0!==f)i=f;else throw h}return(0,b.createElement)(c.Provider,{value:{didCatch:g,error:h,resetErrorBoundary:this.resetErrorBoundary}},i)}}a.s(["ErrorBoundary",()=>e])},26419,a=>{"use strict";var b=a.i(17163),c=a.i(57561);let d=(0,c.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),e=(0,c.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var f=a.i(76777),f=f;let g=(0,c.default)("octagon-x",[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),h=(0,c.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var i=a.i(56916),j=a.i(3896);let k=({...a})=>{let{theme:c="system"}=(0,j.useTheme)();return(0,b.jsx)(i.Toaster,{theme:c,className:"toaster group",icons:{success:(0,b.jsx)(d,{className:"size-4"}),info:(0,b.jsx)(e,{className:"size-4"}),warning:(0,b.jsx)(h,{className:"size-4"}),error:(0,b.jsx)(g,{className:"size-4"}),loading:(0,b.jsx)(f.default,{className:"size-4 animate-spin"})},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"},...a})};a.s(["Toaster",()=>k],26419)},42240,a=>{"use strict";a.i(62416);var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r=a.i(21393),s=r;class t extends s.Resource{constructor(a){super(a)}static async new(a,b,c){return(0,s.invoke)("plugin:image|new",{rgba:transformImage(a),width:b,height:c}).then(a=>new t(a))}static async fromBytes(a){return(0,s.invoke)("plugin:image|from_bytes",{bytes:transformImage(a)}).then(a=>new t(a))}static async fromPath(a){return(0,s.invoke)("plugin:image|from_path",{path:a}).then(a=>new t(a))}async rgba(){return(0,s.invoke)("plugin:image|rgba",{rid:this.rid}).then(a=>new Uint8Array(a))}async size(){return(0,s.invoke)("plugin:image|size",{rid:this.rid})}}r.Resource,new WeakMap,new WeakMap,(b=j||(j={})).Add="Add",b.Advanced="Advanced",b.Bluetooth="Bluetooth",b.Bookmarks="Bookmarks",b.Caution="Caution",b.ColorPanel="ColorPanel",b.ColumnView="ColumnView",b.Computer="Computer",b.EnterFullScreen="EnterFullScreen",b.Everyone="Everyone",b.ExitFullScreen="ExitFullScreen",b.FlowView="FlowView",b.Folder="Folder",b.FolderBurnable="FolderBurnable",b.FolderSmart="FolderSmart",b.FollowLinkFreestanding="FollowLinkFreestanding",b.FontPanel="FontPanel",b.GoLeft="GoLeft",b.GoRight="GoRight",b.Home="Home",b.IChatTheater="IChatTheater",b.IconView="IconView",b.Info="Info",b.InvalidDataFreestanding="InvalidDataFreestanding",b.LeftFacingTriangle="LeftFacingTriangle",b.ListView="ListView",b.LockLocked="LockLocked",b.LockUnlocked="LockUnlocked",b.MenuMixedState="MenuMixedState",b.MenuOnState="MenuOnState",b.MobileMe="MobileMe",b.MultipleDocuments="MultipleDocuments",b.Network="Network",b.Path="Path",b.PreferencesGeneral="PreferencesGeneral",b.QuickLook="QuickLook",b.RefreshFreestanding="RefreshFreestanding",b.Refresh="Refresh",b.Remove="Remove",b.RevealFreestanding="RevealFreestanding",b.RightFacingTriangle="RightFacingTriangle",b.Share="Share",b.Slideshow="Slideshow",b.SmartBadge="SmartBadge",b.StatusAvailable="StatusAvailable",b.StatusNone="StatusNone",b.StatusPartiallyAvailable="StatusPartiallyAvailable",b.StatusUnavailable="StatusUnavailable",b.StopProgressFreestanding="StopProgressFreestanding",b.StopProgress="StopProgress",b.TrashEmpty="TrashEmpty",b.TrashFull="TrashFull",b.User="User",b.UserAccounts="UserAccounts",b.UserGroup="UserGroup",b.UserGuest="UserGuest";class u{constructor(...a){this.type="Logical",1===a.length?"Logical"in a[0]?(this.width=a[0].Logical.width,this.height=a[0].Logical.height):(this.width=a[0].width,this.height=a[0].height):(this.width=a[0],this.height=a[1])}toPhysical(a){return new v(this.width*a,this.height*a)}[r.SERIALIZE_TO_IPC_FN](){return{width:this.width,height:this.height}}toJSON(){return this[r.SERIALIZE_TO_IPC_FN]()}}class v{constructor(...a){this.type="Physical",1===a.length?"Physical"in a[0]?(this.width=a[0].Physical.width,this.height=a[0].Physical.height):(this.width=a[0].width,this.height=a[0].height):(this.width=a[0],this.height=a[1])}toLogical(a){return new u(this.width/a,this.height/a)}[r.SERIALIZE_TO_IPC_FN](){return{width:this.width,height:this.height}}toJSON(){return this[r.SERIALIZE_TO_IPC_FN]()}}r.SERIALIZE_TO_IPC_FN;class w{constructor(...a){this.type="Logical",1===a.length?"Logical"in a[0]?(this.x=a[0].Logical.x,this.y=a[0].Logical.y):(this.x=a[0].x,this.y=a[0].y):(this.x=a[0],this.y=a[1])}toPhysical(a){return new x(this.x*a,this.y*a)}[r.SERIALIZE_TO_IPC_FN](){return{x:this.x,y:this.y}}toJSON(){return this[r.SERIALIZE_TO_IPC_FN]()}}class x{constructor(...a){this.type="Physical",1===a.length?"Physical"in a[0]?(this.x=a[0].Physical.x,this.y=a[0].Physical.y):(this.x=a[0].x,this.y=a[0].y):(this.x=a[0],this.y=a[1])}toLogical(a){return new w(this.x/a,this.y/a)}[r.SERIALIZE_TO_IPC_FN](){return{x:this.x,y:this.y}}toJSON(){return this[r.SERIALIZE_TO_IPC_FN]()}}r.SERIALIZE_TO_IPC_FN,a.i(11937);var y=r;class z extends y.Resource{constructor(a,b){super(a),this.id=b}static async getById(a){return(0,y.invoke)("plugin:tray|get_by_id",{id:a}).then(b=>b?new z(b,a):null)}static async removeById(a){return(0,y.invoke)("plugin:tray|remove_by_id",{id:a})}static async new(a){(null==a?void 0:a.menu)&&(a.menu=[a.menu.rid,a.menu.kind]),(null==a?void 0:a.icon)&&(a.icon=transformImage(a.icon));let b=new y.Channel;if(null==a?void 0:a.action){let c=a.action;b.onmessage=a=>{var b;return c(((b=a).position=new x(b.position),b.rect.position=new x(b.rect.position),b.rect.size=new v(b.rect.size),b))},delete a.action}return(0,y.invoke)("plugin:tray|new",{options:null!=a?a:{},handler:b}).then(([a,b])=>new z(a,b))}async setIcon(a){let b=null;return a&&(b=transformImage(a)),(0,y.invoke)("plugin:tray|set_icon",{rid:this.rid,icon:b})}async setMenu(a){return a&&(a=[a.rid,a.kind]),(0,y.invoke)("plugin:tray|set_menu",{rid:this.rid,menu:a})}async setTooltip(a){return(0,y.invoke)("plugin:tray|set_tooltip",{rid:this.rid,tooltip:a})}async setTitle(a){return(0,y.invoke)("plugin:tray|set_title",{rid:this.rid,title:a})}async setVisible(a){return(0,y.invoke)("plugin:tray|set_visible",{rid:this.rid,visible:a})}async setTempDirPath(a){return(0,y.invoke)("plugin:tray|set_temp_dir_path",{rid:this.rid,path:a})}async setIconAsTemplate(a){return(0,y.invoke)("plugin:tray|set_icon_as_template",{rid:this.rid,asTemplate:a})}async setMenuOnLeftClick(a){return(0,y.invoke)("plugin:tray|set_show_menu_on_left_click",{rid:this.rid,onLeft:a})}async setShowMenuOnLeftClick(a){return(0,y.invoke)("plugin:tray|set_show_menu_on_left_click",{rid:this.rid,onLeft:a})}}(c=k||(k={})).Nsis="nsis",c.Msi="msi",c.Deb="deb",c.Rpm="rpm",c.AppImage="appimage",c.App="app",a.i(28708),(d=l||(l={}))[d.Critical=1]="Critical",d[d.Informational=2]="Informational",(e=m||(m={})).None="none",e.Normal="normal",e.Indeterminate="indeterminate",e.Paused="paused",e.Error="error",(f=n||(n={})).Disabled="disabled",f.Throttle="throttle",f.Suspend="suspend",(g=o||(o={})).AppearanceBased="appearanceBased",g.Light="light",g.Dark="dark",g.MediumLight="mediumLight",g.UltraDark="ultraDark",g.Titlebar="titlebar",g.Selection="selection",g.Menu="menu",g.Popover="popover",g.Sidebar="sidebar",g.HeaderView="headerView",g.Sheet="sheet",g.WindowBackground="windowBackground",g.HudWindow="hudWindow",g.FullScreenUI="fullScreenUI",g.Tooltip="tooltip",g.ContentBackground="contentBackground",g.UnderWindowBackground="underWindowBackground",g.UnderPageBackground="underPageBackground",g.Mica="mica",g.Blur="blur",g.Acrylic="acrylic",g.Tabbed="tabbed",g.TabbedDark="tabbedDark",g.TabbedLight="tabbedLight",(h=p||(p={})).FollowsWindowActiveState="followsWindowActiveState",h.Active="active",h.Inactive="inactive",(i=q||(q={}))[i.SIZE=1]="SIZE",i[i.POSITION=2]="POSITION",i[i.MAXIMIZED=4]="MAXIMIZED",i[i.VISIBLE=8]="VISIBLE",i[i.DECORATIONS=16]="DECORATIONS",i[i.FULLSCREEN=32]="FULLSCREEN",i[i.ALL=63]="ALL",a.s([],42240)},21902,a=>{"use strict";var b=a.i(21393);class c extends b.Resource{constructor(a){super(a.rid),this.available=!0,this.currentVersion=a.currentVersion,this.version=a.version,this.date=a.date,this.body=a.body,this.rawJson=a.rawJson}async download(a,c){e(c);let d=new b.Channel;a&&(d.onmessage=a);let f=await (0,b.invoke)("plugin:updater|download",{onEvent:d,rid:this.rid,...c});this.downloadedBytes=new b.Resource(f)}async install(){if(!this.downloadedBytes)throw Error("Update.install called before Update.download");await (0,b.invoke)("plugin:updater|install",{updateRid:this.rid,bytesRid:this.downloadedBytes.rid}),this.downloadedBytes=void 0}async downloadAndInstall(a,c){e(c);let d=new b.Channel;a&&(d.onmessage=a),await (0,b.invoke)("plugin:updater|download_and_install",{onEvent:d,rid:this.rid,...c})}async close(){await this.downloadedBytes?.close(),await super.close()}}async function d(a){e(a);let d=await (0,b.invoke)("plugin:updater|check",{...a});return d?new c(d):null}function e(a){a?.headers&&(a.headers=Array.from(new Headers(a.headers).entries()))}async function f(a,c){let d="string"==typeof c?{title:c}:c;return(0,b.invoke)("plugin:dialog|message",{message:a.toString(),title:d?.title?.toString(),kind:d?.kind,okButtonLabel:d?.okLabel?.toString(),buttons:function(a){if(void 0!==a){if("string"==typeof a)return a;else if("ok"in a&&"cancel"in a)return{OkCancelCustom:[a.ok,a.cancel]};else if("yes"in a&&"no"in a&&"cancel"in a)return{YesNoCancelCustom:[a.yes,a.no,a.cancel]};else if("ok"in a)return{OkCustom:a.ok}}}(d?.buttons)})}async function g(a,c){let d="string"==typeof c?{title:c}:c;return await (0,b.invoke)("plugin:dialog|ask",{message:a.toString(),title:d?.title?.toString(),kind:d?.kind,yesButtonLabel:d?.okLabel?.toString(),noButtonLabel:d?.cancelLabel?.toString()})}var h=a.i(11937);async function i(a){let b=await d();b?.available?b?.available?(console.log("Update available!",b.version,b.body),await g(`Update to ${b.version} is available!

Release notes: ${b.body}`,{title:"Update Available",kind:"info",okLabel:"Update",cancelLabel:"Cancel"})?(await b.downloadAndInstall(),await (0,h.relaunch)()):await (0,h.exit)(0)):a&&await f("You are on the latest version. Stay awesome!",{title:"No Update Available",kind:"info",okLabel:"OK"}):console.log("No update available")}a.s(["checkForAppUpdates",()=>i],21902)},50102,a=>{"use strict";var b,c,d,e,f=a.i(17163),g=a.i(84280);let h=a.i(4730).default.version;a.i(1695);var i=a.i(50229),j=a.i(21393);async function k(a,b,c,d,e){let f=new Uint32Array(1);window.crypto.getRandomValues(f);let g=f[0],h=new j.Channel;c&&(h.onmessage=c),await (0,j.invoke)("plugin:upload|download",{id:g,url:a,filePath:b,headers:d??{},onProgress:h,body:e})}async function l(){return(0,j.invoke)("plugin:path|resolve_directory",{directory:d.Download})}async function m(...a){return(0,j.invoke)("plugin:path|join",{paths:a})}(b=d||(d={}))[b.Audio=1]="Audio",b[b.Cache=2]="Cache",b[b.Config=3]="Config",b[b.Data=4]="Data",b[b.LocalData=5]="LocalData",b[b.Document=6]="Document",b[b.Download=7]="Download",b[b.Picture=8]="Picture",b[b.Public=9]="Public",b[b.Video=10]="Video",b[b.Resource=11]="Resource",b[b.Temp=12]="Temp",b[b.AppConfig=13]="AppConfig",b[b.AppData=14]="AppData",b[b.AppLocalData=15]="AppLocalData",b[b.AppCache=16]="AppCache",b[b.AppLog=17]="AppLog",b[b.Desktop=18]="Desktop",b[b.Executable=19]="Executable",b[b.Font=20]="Font",b[b.Home=21]="Home",b[b.Runtime=22]="Runtime",b[b.Template=23]="Template";async function n(a,b){if(a instanceof URL&&"file:"!==a.protocol)throw TypeError("Must be a file URL.");await (0,j.invoke)("plugin:fs|remove",{path:a instanceof URL?a.toString():a,options:b})}async function o(a,b){if(a instanceof URL&&"file:"!==a.protocol)throw TypeError("Must be a file URL.");return await (0,j.invoke)("plugin:fs|exists",{path:a instanceof URL?a.toString():a,options:b})}async function p(a,b){await (0,j.invoke)("plugin:opener|open_url",{url:a,with:b})}async function q(a,b){await (0,j.invoke)("plugin:opener|open_path",{path:a,with:b})}async function r(){try{let a=navigator.userAgent.toLowerCase();if(/android/.test(a));else if(/iphone|ipad|ipod/.test(a))return"darwin-aarch64";return"android-aarch64"}catch(a){return console.error("Error detecting platform:",a),"android-aarch64"}}(c=e||(e={}))[c.Start=0]="Start",c[c.Current=1]="Current",c[c.End=2]="End",j.Resource,j.Resource;class s{static instance;isInitialized=!1;checkInterval=null;listeners=[];isEnabled=!1;currentState={status:"idle"};UPDATE_ENDPOINT="https://updater-worker.stackproviders.workers.dev/latest?ttl=300";constructor(){}static getInstance(){return s.instance||(s.instance=new s),s.instance}setEnabled(a){this.isEnabled=a,a&&!this.isInitialized?this.initialize():a||this.stopPeriodicChecks()}subscribe(a){return this.listeners.push(a),a(this.currentState),()=>{this.listeners=this.listeners.filter(b=>b!==a)}}notifyListeners(){this.listeners.forEach(a=>a(this.currentState))}updateState(a){this.currentState={...this.currentState,...a},this.notifyListeners()}async initialize(){if(!this.isInitialized&&this.isEnabled)try{await this.checkForUpdates(),this.startPeriodicChecks(),this.isInitialized=!0,console.log("Mobile auto-updater initialized")}catch(a){console.error("Failed to initialize mobile auto-updater:",a),this.updateState({status:"error",error:a instanceof Error?a.message:"Failed to initialize updater"})}}async checkForUpdates(){if(!this.isEnabled)return null;try{this.updateState({status:"checking",error:void 0});let a=await (0,i.fetch)(this.UPDATE_ENDPOINT,{method:"GET",headers:{Accept:"application/json","Cache-Control":"no-cache"}});if(!a.ok)throw Error(`HTTP ${a.status}: ${a.statusText}`);let b=await a.json();if(!(function(a,b){let c=a.split(".").map(Number),d=b.split(".").map(Number);for(let a=0;a<Math.max(c.length,d.length);a++){let b=c[a]||0,e=d[a]||0;if(b>e)return 1;if(b<e)return -1}return 0}(b.version,h)>0))return console.log(`Mobile app is up to date. Current version (v${h}) is same or newer than available version (v${b.version})`),this.updateState({status:"up-to-date",update:b,error:void 0}),null;{let a;console.log(`Mobile update available: v${b.version} (current: v${h})`);let c=await r(),d=b.platforms[c];if(!d)throw Error(`No update available for platform: ${c}`);let e=this.getDownloadedVersion()===b.version;if(e)try{let c=await l(),d=`Shop-Management-System-${b.version}.apk`,e=await m(c,d);await o(e)?a=e:this.clearDownloadedVersion()}catch(a){console.warn("Error checking file existence:",a),this.clearDownloadedVersion()}return this.updateState({status:e&&a?"downloaded":"available",update:b,downloadUrl:d.url,downloadedVersion:e&&a?b.version:void 0,downloadedFilePath:a,error:void 0}),b}}catch(a){return console.log("Update check failed (offline or network issue):",a),this.updateState({status:"idle",error:void 0}),null}}async downloadUpdate(){if("available"!==this.currentState.status||!this.currentState.downloadUrl)throw Error("No update available to download");let a=0,b=0;try{this.updateState({status:"downloading",error:void 0,progress:0});let c=await l(),d=`Shop-Management-System-${this.currentState.update?.version||"latest"}.apk`,e=await m(c,d);if(await o(e)){let a=this.currentState.update?.version||"unknown";this.setDownloadedVersion(a),this.updateState({status:"downloaded",progress:100,downloadedVersion:a,downloadedFilePath:e});return}await k(this.currentState.downloadUrl,e,c=>{let d="number"==typeof c.progress?c.progress:0,e="number"==typeof c.total?c.total:0;if(e>0){b=e,a+=d;let c=Math.min(99,Math.round(a/b*100));this.updateState({progress:c})}},new Map([["Accept","application/octet-stream"],["User-Agent","Shop-Management-System-Updater"]]));let f=this.currentState.update?.version||"unknown";this.setDownloadedVersion(f),this.updateState({status:"downloaded",progress:100,downloadedVersion:f,downloadedFilePath:e})}catch(b){console.error("Download error:",b);let a="Failed to download update";throw b instanceof Error&&(a=b.message.includes("network")||b.message.includes("fetch")?"Network error. Please check your internet connection and try again.":b.message.includes("HTTP")?`Download failed: ${b.message}`:b.message),this.updateState({status:"error",error:a}),b}}async installUpdate(){try{this.updateState({status:"installing",error:void 0});let a=await r();if("android-aarch64"===a){let a=this.currentState.downloadedFilePath;if(console.log("localPath",a),a)try{if(!await o(a))throw Error("Downloaded file not found");await q(a),this.showInstallNotification(),setTimeout(()=>{this.clearDownloadedState()},2e3);return}catch(a){console.warn("Local install failed, falling back to URL:",a)}if(this.currentState.downloadUrl)try{await p(this.currentState.downloadUrl),this.showInstallNotification(),setTimeout(()=>{this.clearDownloadedState()},2e3)}catch(a){console.error("Installation failed:",a),window.open(this.currentState.downloadUrl,"_blank"),this.updateState({status:"downloaded",error:void 0})}}else"darwin-aarch64"===a?(this.currentState.downloadUrl&&window.open(this.currentState.downloadUrl,"_blank"),this.updateState({status:"downloaded",error:void 0}),alert("Please update through the App Store to get the latest version.")):(this.currentState.downloadUrl&&window.open(this.currentState.downloadUrl,"_blank"),this.updateState({status:"downloaded",error:void 0}),alert("Please install the downloaded file to update the application."))}catch(a){throw console.error("Install error:",a),this.updateState({status:"error",error:"Failed to install update"}),a}}startPeriodicChecks(){this.checkInterval=window.setInterval(()=>{this.checkForUpdates()},864e5)}stopPeriodicChecks(){this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null)}getCurrentState(){return this.currentState}clearDownloadedState(){this.downloadedBlob=void 0,this.clearDownloadedVersion(),this.updateState({status:"available",progress:void 0,downloadedVersion:void 0,downloadedFilePath:void 0})}async cleanupDownloadedFiles(){try{let a=this.getDownloadedVersion();if(a){let b=await l(),c=`Shop-Management-System-${a}.apk`,d=await m(b,c);await o(d)&&(await n(d),console.log(`Cleaned up downloaded file: ${d}`))}}catch(a){console.warn("Error cleaning up downloaded files:",a)}}getDownloadedVersion(){return localStorage.getItem("downloadedAppVersion")}setDownloadedVersion(a){localStorage.setItem("downloadedAppVersion",a)}clearDownloadedVersion(){localStorage.removeItem("downloadedAppVersion")}showInstallNotification(){"Notification"in window&&"granted"===Notification.permission&&new Notification("App Update",{body:`Installation started for v${this.currentState.update?.version||"latest"}. The APK file will open automatically.`,icon:"/favicon.ico"})}checkIfAppWasUpdated(){let a=localStorage.getItem("lastKnownAppVersion");return a&&a!==h?(localStorage.setItem("lastKnownAppVersion",h),!0):(a||localStorage.setItem("lastKnownAppVersion",h),!1)}showUpdateSuccessMessage(){this.checkIfAppWasUpdated()&&alert(`
ðŸŽ‰ Update Successful!

âœ… Your app has been updated successfully.
âœ… All your data and settings have been preserved.
âœ… You're now running the latest version.

Thank you for keeping your app up to date!
      `)}destroy(){this.stopPeriodicChecks(),this.isInitialized=!1,this.listeners=[],this.currentState={status:"idle"}}}let t=s.getInstance();var u=a.i(99570),v=a.i(91119),w=a.i(86304),x=a.i(57561);let y=(0,x.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),z=(0,x.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var A=a.i(41675),B=a.i(97420),C=a.i(38530);let D=(0,x.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),E=(0,g.createContext)(void 0);function F({children:a}){let[b,c]=(0,g.useState)(t.getCurrentState()),[d,e]=(0,g.useState)(navigator.onLine);(0,g.useEffect)(()=>{let a=t.subscribe(c),b=()=>e(!0),d=()=>e(!1);return window.addEventListener("online",b),window.addEventListener("offline",d),t.showUpdateSuccessMessage(),t.setEnabled(navigator.onLine),()=>{a(),window.removeEventListener("online",b),window.removeEventListener("offline",d)}},[]),(0,g.useEffect)(()=>{t.setEnabled(d)},[d]);let i=(0,g.useCallback)(async()=>{try{await t.checkForUpdates()}catch(a){console.error("Failed to check for updates:",a)}},[]),j=(0,g.useCallback)(async()=>{try{await t.downloadUpdate()}catch(a){console.error("Failed to download update:",a)}},[]),k=(0,g.useCallback)(async()=>{try{await t.installUpdate()}catch(a){console.error("Failed to install update:",a)}},[]),l=(0,g.useCallback)(a=>{t.setEnabled(a)},[]),m=(0,g.useCallback)(()=>{t.clearDownloadedState()},[]),n=(0,g.useMemo)(()=>({state:b,checkForUpdates:i,downloadAndInstall:j,installUpdate:k,setEnabled:l,clearDownloadedState:m,isChecking:"checking"===b.status,isDownloading:"downloading"===b.status,isInstalling:"installing"===b.status,hasUpdate:"available"===b.status,isDownloaded:"downloaded"===b.status,hasError:"error"===b.status,isUpToDate:"up-to-date"===b.status}),[b,i,j,k,l,m]),o=(0,g.useMemo)(()=>"checking"===b.status?(0,f.jsx)(B.Loader2,{className:"h-5 w-5 animate-spin text-blue-500"}):"available"===b.status?(0,f.jsx)(y,{className:"h-5 w-5 text-orange-500"}):"downloading"===b.status?(0,f.jsx)(B.Loader2,{className:"h-5 w-5 animate-spin text-blue-500"}):"downloaded"===b.status?(0,f.jsx)(z,{className:"h-5 w-5 text-green-500"}):"installing"===b.status?(0,f.jsx)(B.Loader2,{className:"h-5 w-5 animate-spin text-blue-500"}):"error"===b.status?(0,f.jsx)(A.AlertCircle,{className:"h-5 w-5 text-red-500"}):(0,f.jsx)(C.Smartphone,{className:"h-5 w-5 text-blue-500"}),[b.status]),p=(0,g.useMemo)(()=>"checking"===b.status?"Checking for updates...":"available"===b.status?`Update available: v${b.update?.version}`:"downloading"===b.status?`Downloading update... ${b.progress||0}%`:"downloaded"===b.status?`Ready to install v${b.downloadedVersion||b.update?.version}`:"installing"===b.status?"Installing update...":"error"===b.status?`Error: ${b.error}`:"App Updates",[b.status,b.update?.version,b.progress,b.downloadedVersion,b.error]),q=(0,g.useCallback)(a=>{try{return new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return a}},[]),r=(0,g.useMemo)(()=>"checking"===b.status||"downloading"===b.status||"installing"===b.status,[b.status]),s=(0,g.useMemo)(()=>("available"===b.status||"downloading"===b.status||"downloaded"===b.status||"installing"===b.status||"error"===b.status)&&d,[b.status,d]);return(0,f.jsxs)(E.Provider,{value:n,children:[a,s&&(0,f.jsx)("div",{className:"fixed bottom-4 left-4 right-4 z-40 max-w-sm mx-auto",children:(0,f.jsxs)(v.Card,{className:"w-full shadow-lg border-2 border-blue-200 dark:border-blue-800 bg-white dark:bg-gray-900",children:[(0,f.jsx)(v.CardHeader,{className:"pb-2",children:(0,f.jsxs)("div",{className:"flex items-center justify-between",children:[(0,f.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,f.jsx)(C.Smartphone,{className:"h-4 w-4 text-blue-500"}),(0,f.jsxs)("div",{children:[(0,f.jsx)(v.CardTitle,{className:"text-sm",children:"App Updates"}),(0,f.jsx)(v.CardDescription,{className:"text-xs",children:"Update available"})]})]}),(0,f.jsxs)(w.Badge,{variant:"outline",className:"text-xs",children:["v",h]})]})}),(0,f.jsxs)(v.CardContent,{className:"space-y-3",children:[(0,f.jsxs)("div",{className:"flex items-center space-x-2 p-2 border rounded-lg bg-gray-50 dark:bg-gray-800",children:[o,(0,f.jsxs)("div",{className:"flex-1",children:[(0,f.jsx)("p",{className:"text-xs font-medium",children:p}),void 0!==b.progress&&"downloading"===b.status&&(0,f.jsx)("div",{className:"mt-1 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:(0,f.jsx)("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${b.progress}%`}})})]})]}),"available"===b.status&&b.update&&(0,f.jsxs)("div",{className:"text-xs text-orange-700 dark:text-orange-300 bg-orange-50 dark:bg-orange-900/20 p-2 rounded border border-orange-200 dark:border-orange-800",children:[(0,f.jsxs)("p",{className:"font-medium",children:["New version: v",b.update.version]}),(0,f.jsx)("p",{className:"text-xs text-orange-600 dark:text-orange-400",children:q(b.update.pub_date)})]}),"downloaded"===b.status&&(0,f.jsxs)("div",{className:"text-xs text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/20 p-2 rounded border border-blue-200 dark:border-blue-800",children:[(0,f.jsxs)("p",{className:"font-medium",children:["âœ“ Ready to install v",b.downloadedVersion||b.update?.version]}),(0,f.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:b.downloadedFilePath?"File ready - click Install to auto-install":"Update downloaded successfully"})]}),"error"===b.status&&(0,f.jsxs)("div",{className:"text-xs text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 p-2 rounded border border-red-200 dark:border-red-800",children:[(0,f.jsx)("p",{className:"font-medium",children:"Update Error"}),(0,f.jsx)("p",{className:"text-xs text-red-600 dark:text-red-400",children:b.error})]}),(0,f.jsxs)("div",{className:"flex gap-2",children:[("available"===b.status||"downloading"===b.status)&&(0,f.jsxs)(u.Button,{onClick:j,disabled:r,size:"sm",className:"flex-1 text-xs",children:["downloading"===b.status?(0,f.jsx)(B.Loader2,{className:"h-3 w-3 animate-spin mr-1"}):(0,f.jsx)(y,{className:"h-3 w-3 mr-1"}),"downloading"===b.status?`${b.progress||0}%`:"Download"]}),("downloaded"===b.status||"installing"===b.status)&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)(u.Button,{onClick:k,disabled:r,size:"sm",className:"flex-1 text-xs",children:["installing"===b.status?(0,f.jsx)(B.Loader2,{className:"h-3 w-3 animate-spin mr-1"}):(0,f.jsx)(D,{className:"h-3 w-3 mr-1"}),"installing"===b.status?"Installing...":"Install"]}),"downloaded"===b.status&&(0,f.jsx)(u.Button,{onClick:m,disabled:r,variant:"outline",size:"sm",className:"text-xs",children:"Dismiss"})]})]})]})]})})]})}a.s(["MobileUpdaterProvider",()=>F],50102)},91643,a=>{"use strict";var b=a.i(17163),c=a.i(84280),d=a.i(21393);async function e(){return await (0,d.invoke)("plugin:safe-area-insets|get_insets")}var f=a.i(4997);let g=(0,c.createContext)({insets:{top:0,right:0,bottom:0,left:0},isMobile:!1});function h({children:a}){let{insets:d,isMobile:h}=function(){let{isMobile:a}=(0,f.getPlatform)(),[b,d]=(0,c.useState)({top:0,right:0,bottom:0,left:0});return(0,c.useEffect)(()=>{if(!a)return;let b=async()=>{try{let a=await e();console.log({result:a}),d({top:a.top,right:a.right,bottom:a.bottom,left:a.left}),document.documentElement.style.setProperty("--sat",`${a.top}px`),document.documentElement.style.setProperty("--sar",`${a.right}px`),document.documentElement.style.setProperty("--sab",`${a.bottom}px`),document.documentElement.style.setProperty("--sal",`${a.left}px`)}catch(a){console.error("Failed to get safe area insets:",a)}};return b(),window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[a]),{insets:b,isMobile:a}}();return(0,b.jsx)(g.Provider,{value:{insets:d,isMobile:h},children:h?(0,b.jsx)("div",{className:"h-screen w-screen overflow-hidden",style:{paddingTop:"var(--sat)",paddingBottom:"var(--sab)",paddingLeft:"var(--sal)",paddingRight:"var(--sar)"},children:(0,b.jsx)("div",{className:"h-full w-full overflow-auto",children:a})}):a})}a.s(["SafeAreaProvider",()=>h],91643)},12183,a=>{"use strict";var b,c=a.i(84280);let d=function(){try{let a="nuqs-localStorage-test";if("undefined"==typeof localStorage)return!1;localStorage.setItem(a,a);let b=localStorage.getItem(a)===a;return localStorage.removeItem(a),b&&(localStorage.getItem("debug")||"").includes("nuqs")}catch{return!1}}();function e(a,...b){if(!d)return;let c=function(a,...b){return a.replace(/%[sfdO]/g,a=>{let c=b.shift();return"%O"===a&&c?JSON.stringify(c).replace(/"([^"]+)":/g,"$1:"):String(c)})}(a,...b);performance.mark(c);try{console.log(a,...b)}catch{console.log(c)}}let f={303:"Multiple adapter contexts detected. This might happen in monorepos.",404:"nuqs requires an adapter to work with your framework.",409:"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` (via the %s adapter) was about to load on top.",414:"Max safe URL length exceeded. Some browsers may not be able to accept this URL. Consider limiting the amount of state stored in the URL.",422:"Invalid options combination: `limitUrlUpdates: debounce` should be used in SSR scenarios, with `shallow: false`",429:"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O",500:"Empty search params cache. Search params can't be accessed in Layouts.",501:"Search params cache already populated. Have you called `parse` twice?"};function g(a){return`[nuqs] ${f[a]}
  See https://nuqs.dev/NUQS-${a}`}let h=(0,c.createContext)({useAdapter(){throw Error(g(404))}});h.displayName="NuqsAdapterContext";function i(a,b,c){let d=setTimeout(function(){a(),c.removeEventListener("abort",e)},b);function e(){clearTimeout(d),c.removeEventListener("abort",e)}c.addEventListener("abort",e)}function j(){let a=Promise;if(Promise.hasOwnProperty("withResolvers"))return Promise.withResolvers();let b=()=>{},c=()=>{};return{promise:new a((a,d)=>{b=a,c=d}),resolve:b,reject:c}}function k(){return new URLSearchParams(location.search)}var l=class{updateMap=new Map;options={history:"replace",scroll:!1,shallow:!0};timeMs=50;transitions=new Set;resolvers=null;controller=null;lastFlushedAt=0;resetQueueOnNextPush=!1;push({key:a,query:b,options:c},d=50){this.resetQueueOnNextPush&&(this.reset(),this.resetQueueOnNextPush=!1),e("[nuqs gtq] Enqueueing %s=%s %O",a,b,c),this.updateMap.set(a,b),"push"===c.history&&(this.options.history="push"),c.scroll&&(this.options.scroll=!0),!1===c.shallow&&(this.options.shallow=!1),c.startTransition&&this.transitions.add(c.startTransition),(!Number.isFinite(this.timeMs)||d>this.timeMs)&&(this.timeMs=d)}getQueuedQuery(a){return this.updateMap.get(a)}getPendingPromise({getSearchParamsSnapshot:a=k}){return this.resolvers?.promise??Promise.resolve(a())}flush({getSearchParamsSnapshot:a=k,rateLimitFactor:b=1,...c},d){if(this.controller??=new AbortController,!Number.isFinite(this.timeMs))return e("[nuqs gtq] Skipping flush due to throttleMs=Infinity"),Promise.resolve(a());if(this.resolvers)return this.resolvers.promise;this.resolvers=j();let f=()=>{this.lastFlushedAt=performance.now();let[b,e]=this.applyPendingUpdates({...c,autoResetQueueOnUpdate:c.autoResetQueueOnUpdate??!0,getSearchParamsSnapshot:a},d);null===e?(this.resolvers.resolve(b),this.resetQueueOnNextPush=!0):this.resolvers.reject(b),this.resolvers=null},g=()=>{let a=performance.now()-this.lastFlushedAt,c=this.timeMs,d=b*Math.max(0,c-a);e("[nuqs gtq] Scheduling flush in %f ms. Throttled at %f ms (x%f)",d,c,b),0===d?f():i(f,d,this.controller.signal)};return i(g,0,this.controller.signal),this.resolvers.promise}abort(){return this.controller?.abort(),this.controller=new AbortController,this.resolvers?.resolve(new URLSearchParams),this.resolvers=null,this.reset()}reset(){let a=Array.from(this.updateMap.keys());return e("[nuqs gtq] Resetting queue %s",JSON.stringify(Object.fromEntries(this.updateMap))),this.updateMap.clear(),this.transitions.clear(),this.options={history:"replace",scroll:!1,shallow:!0},this.timeMs=50,a}applyPendingUpdates(a,b){let{updateUrl:c,getSearchParamsSnapshot:d}=a,f=d();if(e("[nuqs gtq] Applying %d pending update(s) on top of %s",this.updateMap.size,f.toString()),0===this.updateMap.size)return[f,null];let h=Array.from(this.updateMap.entries()),i={...this.options},j=Array.from(this.transitions);for(let[b,c]of(a.autoResetQueueOnUpdate&&this.reset(),e("[nuqs gtq] Flushing queue %O with options %O",h,i),h))null===c?f.delete(b):f=function(a,b,c){if("string"==typeof a)c.set(b,a);else{for(let d of(c.delete(b),a))c.append(b,d);c.has(b)||c.set(b,"")}return c}(c,b,f);b&&(f=b(f));try{return!function(a,b){let c=b;for(let b=a.length-1;b>=0;b--){let d=a[b];if(!d)continue;let e=c;c=()=>d(e)}c()}(j,()=>{c(f,i)}),[f,null]}catch(a){return console.error(g(429),h.map(([a])=>a).join(),a),[f,a]}}};let m=new l;var n=class{callback;resolvers=j();controller=new AbortController;queuedValue=void 0;constructor(a){this.callback=a}abort(){this.controller.abort(),this.queuedValue=void 0}push(a,b){return this.queuedValue=a,this.controller.abort(),this.controller=new AbortController,i(()=>{let b=this.resolvers;try{e("[nuqs dq] Flushing debounce queue",a);let c=this.callback(a);e("[nuqs dq] Reset debounce queue %O",this.queuedValue),this.queuedValue=void 0,this.resolvers=j(),c.then(a=>b.resolve(a)).catch(a=>b.reject(a))}catch(a){this.queuedValue=void 0,b.reject(a)}},b,this.controller.signal),this.resolvers.promise}};let o=new class{throttleQueue;queues=new Map;queuedQuerySync=(function(){let a=new Map;return{on(b,c){let d=a.get(b)||[];return d.push(c),a.set(b,d),()=>this.off(b,c)},off(b,c){let d=a.get(b);d&&a.set(b,d.filter(a=>a!==c))},emit(b,c){a.get(b)?.forEach(a=>a(c))}}})();constructor(a=new l){this.throttleQueue=a}useQueuedQueries(a){var b,d;let e,f,g;return b=(a,b)=>this.queuedQuerySync.on(a,b),d=a=>this.getQueuedQuery(a),e=(0,c.useCallback)(()=>{let b=Object.fromEntries(a.map(a=>[a,d(a)]));return[JSON.stringify(b),b]},[a.join(","),d]),null===(f=(0,c.useRef)(null)).current&&(f.current=e()),g=(0,c.useCallback)(c=>{let d=a.map(a=>b(a,c));return()=>d.forEach(a=>a())},[a.join(","),b]),(0,c.useSyncExternalStore)(g,()=>{let[a,b]=e();return f.current[0]===a?f.current[1]:(f.current=[a,b],b)},()=>f.current[1])}push(a,b,c){if(!Number.isFinite(b))return Promise.resolve((c.getSearchParamsSnapshot??k)());let d=a.key;if(!this.queues.has(d)){e("[nuqs dqc] Creating debounce queue for `%s`",d);let a=new n(a=>(this.throttleQueue.push(a),this.throttleQueue.flush(c).finally(()=>{this.queues.get(a.key)?.queuedValue===void 0&&(e("[nuqs dqc] Cleaning up empty queue for `%s`",a.key),this.queues.delete(a.key)),this.queuedQuerySync.emit(a.key)})));this.queues.set(d,a)}e("[nuqs dqc] Enqueueing debounce update %O",a);let f=this.queues.get(d).push(a,b);return this.queuedQuerySync.emit(d),f}abort(a){let b=this.queues.get(a);return b?(e("[nuqs dqc] Aborting debounce queue %s=%s",a,b.queuedValue?.query),this.queues.delete(a),b.abort(),this.queuedQuerySync.emit(a),a=>(a.then(b.resolvers.resolve,b.resolvers.reject),a)):a=>a}abortAll(){for(let[a,b]of this.queues.entries())e("[nuqs dqc] Aborting debounce queue %s=%s",a,b.queuedValue?.query),b.abort(),b.resolvers.resolve(new URLSearchParams),this.queuedQuerySync.emit(a);this.queues.clear()}getQueuedQuery(a){let b=this.queues.get(a)?.queuedValue?.query;return void 0!==b?b:this.throttleQueue.getQueuedQuery(a)}}(m);function p(){e("[nuqs] Aborting queues"),o.abortAll(),m.abort().forEach(a=>o.queuedQuerySync.emit(a))}var q=a.i(10278);let r=0;function s(){r=0,p()}function t(){--r<=0&&(r=0,queueMicrotask(p))}function u(){return(0,c.useEffect)(()=>(!function(){var a;if(a="next/app","undefined"==typeof history||(history.nuqs?.version&&"0.0.0-inject-version-here"!==history.nuqs.version?(console.error(g(409),history.nuqs.version,"0.0.0-inject-version-here",a),!0):!!history.nuqs?.adapters?.includes(a)))return;let b=history.replaceState,c=history.pushState;history.replaceState=function(a,c,d){return t(),b.call(history,a,c,d)},history.pushState=function(a,b,d){return t(),c.call(history,a,b,d)},history.nuqs=history.nuqs??{version:"0.0.0-inject-version-here",adapters:[]},history.nuqs.adapters.push("next/app")}(),window.addEventListener("popstate",s),()=>window.removeEventListener("popstate",s)),[]),null}let v=(b=function(){let a=(0,q.useRouter)(),b=(0,q.useSearchParams)(),[d,f]=(0,c.useOptimistic)(b);return{searchParams:d,updateUrl:(0,c.useCallback)((b,d)=>{(0,c.startTransition)(()=>{d.shallow||f(b);let c=function(a){let{origin:b,pathname:c,hash:d}=location;return b+c+function(a){if(0===a.size)return"";let b=[];for(let[c,d]of a.entries()){let a=c.replace(/#/g,"%23").replace(/&/g,"%26").replace(/\+/g,"%2B").replace(/=/g,"%3D").replace(/\?/g,"%3F");b.push(`${a}=${d.replace(/%/g,"%25").replace(/\+/g,"%2B").replace(/ /g,"+").replace(/#/g,"%23").replace(/&/g,"%26").replace(/"/g,"%22").replace(/'/g,"%27").replace(/`/g,"%60").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/[\x00-\x1F]/g,a=>encodeURIComponent(a))}`)}return"?"+b.join("&")}(a)+d}(b);e("[nuqs next/app] Updating url: %s",c);let g="push"===d.history?history.pushState:history.replaceState;r=3,g.call(history,null,"",c),d.scroll&&window.scrollTo(0,0),d.shallow||a.replace(c,{scroll:!1})})},[]),rateLimitFactor:3,autoResetQueueOnUpdate:!1}},({children:a,defaultOptions:d,processUrlSearchParams:e,...f})=>(0,c.createElement)(h.Provider,{...f,value:{useAdapter:b,defaultOptions:d,processUrlSearchParams:e}},a));function w({children:a,...b}){return(0,c.createElement)(v,{...b,children:[(0,c.createElement)(c.Suspense,{key:"nuqs-adapter-suspense-navspy",children:(0,c.createElement)(u)}),a]})}a.s(["NuqsAdapter",()=>w],12183)},43518,a=>a.a(async(b,c)=>{try{var d=a.i(17163),e=a.i(84280),f=a.i(89158),g=a.i(60355),h=a.i(85259),i=a.i(3896),j=a.i(26419),k=a.i(42024),l=a.i(80965),m=a.i(31934),n=a.i(75496),o=a.i(36043),p=a.i(68684);a.i(55752);var q=a.i(49024),r=a.i(20237);a.i(42240);var s=a.i(4997),t=a.i(21902),u=a.i(50102),v=a.i(91643);a.i(31257);var w=a.i(83358),x=a.i(12183),y=b([k,l,m]);function z({children:a}){let b=(0,o.useFirebaseApp)();return(0,d.jsx)(o.StorageProvider,{sdk:(0,q.getStorage)(b),children:a})}function A({children:a}){let{data:b}=(0,o.useInitFirestore)(async a=>{try{return(0,w.initializeFirestore)(a,{localCache:(0,w.persistentLocalCache)({tabManager:(0,w.persistentMultipleTabManager)()})})}catch{return(0,w.getFirestore)(a)}});return(0,d.jsx)(o.FirestoreProvider,{sdk:b,children:a})}function B({children:a}){let{isDesktop:b,isMobile:c}=(0,e.useMemo)(()=>(0,s.getPlatform)(),[]);return(0,e.useEffect)(()=>{b&&(0,t.checkForAppUpdates)(!1)},[b]),(0,e.useEffect)(()=>{},[]),(0,d.jsx)(v.SafeAreaProvider,{children:c?(0,d.jsx)(u.MobileUpdaterProvider,{children:a}):a})}function C({children:a}){return(0,d.jsx)(o.FirebaseAppProvider,{firebaseConfig:r.firebaseConfig,suspense:!0,children:(0,d.jsx)(x.NuqsAdapter,{children:(0,d.jsx)(g.ErrorBoundary,{FallbackComponent:f.default,children:(0,d.jsx)(h.TooltipProvider,{children:(0,d.jsx)(i.ThemeProvider,{defaultTheme:"system",children:(0,d.jsx)(o.SuspenseWithPerf,{fallback:(0,d.jsx)(p.Spinner,{fullScreen:!0,className:"size-7"}),traceId:"app-init",children:(0,d.jsx)(A,{children:(0,d.jsx)(B,{children:(0,d.jsx)(o.SuspenseWithPerf,{fallback:(0,d.jsx)(p.Spinner,{fullScreen:!0,className:"size-7"}),traceId:"auth-init",children:(0,d.jsx)(n.AuthProvider,{children:(0,d.jsx)(o.SuspenseWithPerf,{fallback:(0,d.jsx)(p.Spinner,{fullScreen:!0,className:"size-7"}),traceId:"shop-init",children:(0,d.jsx)(l.ShopProvider,{children:(0,d.jsxs)(z,{children:[a,(0,d.jsx)(j.Toaster,{richColors:!0})]})})})})})})})})})})})})})}[k,l,m]=y.then?(await y)():y,a.s(["default",()=>C]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=_689390d7._.js.map