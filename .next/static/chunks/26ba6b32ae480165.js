(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44636,e=>{"use strict";var t,n,i,s,a,r,o,l,u,d,c,h,p,w,g,m,v,y,b,k,f,x,_,S=e.i(92316),E=e.i(96040),A=e.i(61754);async function C(e=0){await (0,A.invoke)("plugin:process|exit",{code:e})}async function I(){await (0,A.invoke)("plugin:process|restart")}var N=e.i(19455),P=e.i(75157),L=e.i(15288);function T({children:e,className:t,variant:n="destructive"}){return(0,S.jsx)("main",{className:(0,P.cn)("h-full flex items-center justify-center p-4",{destructive:"bg-destructive/5",warning:"bg-warning/5",info:"bg-muted/50"}[n],t),children:(0,S.jsx)(L.Card,{className:"max-w-md w-full p-8 text-center space-y-6",children:e})})}function F({children:e,className:t}){return(0,S.jsx)("h1",{className:(0,P.cn)("text-2xl font-bold tracking-tight text-foreground",t),children:e})}function M({children:e,className:t}){return(0,S.jsx)("p",{className:(0,P.cn)("text-sm text-muted-foreground",t),children:e})}function j({children:e,className:t}){return(0,S.jsx)("div",{className:(0,P.cn)("flex flex-col sm:flex-row items-center justify-center gap-3",t),children:e})}function U(){return(0,S.jsxs)(T,{children:[(0,S.jsx)(F,{children:"We're fixing it"}),(0,S.jsxs)(M,{children:["The app encountered an error and needs to be restarted.",(0,S.jsx)("br",{}),"We know about it and we're working to fix it."]}),(0,S.jsx)(j,{children:(0,S.jsx)(N.Button,{size:"lg",onClick:I,children:"Relaunch app"})})]})}var q=E;let R=(0,q.createContext)(null),D={didCatch:!1,error:null};class z extends q.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=D}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){for(var t,n,i=arguments.length,s=Array(i),a=0;a<i;a++)s[a]=arguments[a];null==(t=(n=this.props).onReset)||t.call(n,{args:s,reason:"imperative-api"}),this.setState(D)}}componentDidCatch(e,t){var n,i;null==(n=(i=this.props).onError)||n.call(i,e,t)}componentDidUpdate(e,t){let{didCatch:n}=this.state,{resetKeys:i}=this.props;if(n&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,n)=>!Object.is(e,t[n]))}(e.resetKeys,i)){var s,a;null==(s=(a=this.props).onReset)||s.call(a,{next:i,prev:e.resetKeys,reason:"keys"}),this.setState(D)}}render(){let{children:e,fallbackRender:t,FallbackComponent:n,fallback:i}=this.props,{didCatch:s,error:a}=this.state,r=e;if(s){let e={error:a,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)r=t(e);else if(n)r=(0,q.createElement)(n,e);else if(void 0!==i)r=i;else throw a}return(0,q.createElement)(R.Provider,{value:{didCatch:s,error:a,resetErrorBoundary:this.resetErrorBoundary}},r)}}var O=e.i(46798),B=e.i(82406),V=e.i(81388);let W=(0,V.default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Q=(0,V.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var $=e.i(55212),$=$;let H=(0,V.default)("octagon-x",[["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),G=(0,V.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var Z=e.i(95403);let J=({...e})=>{let{theme:t="system"}=(0,B.useTheme)();return(0,S.jsx)(Z.Toaster,{theme:t,className:"toaster group",icons:{success:(0,S.jsx)(W,{className:"size-4"}),info:(0,S.jsx)(Q,{className:"size-4"}),warning:(0,S.jsx)(G,{className:"size-4"}),error:(0,S.jsx)(H,{className:"size-4"}),loading:(0,S.jsx)($.default,{className:"size-4 animate-spin"})},style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)","--border-radius":"var(--radius)"},...e})};e.i(82610);var K=e.i(7500);e.i(48420);var Y=e.i(42429),X=e.i(62619),ee=e.i(87968);e.i(73910);var et=e.i(87007),en=e.i(59141),ei=e.i(70066),es=A,ea=A;class er extends ea.Resource{constructor(e){super(e)}static async new(e,t,n){return(0,ea.invoke)("plugin:image|new",{rgba:eo(e),width:t,height:n}).then(e=>new er(e))}static async fromBytes(e){return(0,ea.invoke)("plugin:image|from_bytes",{bytes:eo(e)}).then(e=>new er(e))}static async fromPath(e){return(0,ea.invoke)("plugin:image|from_path",{path:e}).then(e=>new er(e))}async rgba(){return(0,ea.invoke)("plugin:image|rgba",{rid:this.rid}).then(e=>new Uint8Array(e))}async size(){return(0,ea.invoke)("plugin:image|size",{rid:this.rid})}}function eo(e){return null==e?null:"string"==typeof e?e:e instanceof er?e.rid:e}async function el(e,t){let n=new es.Channel;return t&&"object"==typeof t&&("action"in t&&t.action&&(n.onmessage=t.action,delete t.action),"item"in t&&t.item&&"object"==typeof t.item&&"About"in t.item&&t.item.About&&"object"==typeof t.item.About&&"icon"in t.item.About&&t.item.About.icon&&(t.item.About.icon=eo(t.item.About.icon)),"icon"in t&&t.icon&&(t.icon=eo(t.icon)),"items"in t&&t.items&&(t.items=t.items.map(function e(t){var n;return"rid"in t?[t.rid,t.kind]:("item"in t&&"object"==typeof t.item&&(null==(n=t.item.About)?void 0:n.icon)&&(t.item.About.icon=eo(t.item.About.icon)),"icon"in t&&t.icon&&(t.icon=eo(t.icon)),"items"in t&&t.items&&(t.items=t.items.map(e)),function e(t){var n;if("items"in t)t.items=null==(n=t.items)?void 0:n.map(t=>"rid"in t?t:e(t));else if("action"in t&&t.action){let e=new es.Channel;return e.onmessage=t.action,delete t.action,{...t,handler:e}}return t}(t))}))),(0,es.invoke)("plugin:menu|new",{kind:e,options:t,handler:n})}class eu extends es.Resource{get id(){return(0,ei.__classPrivateFieldGet)(this,h,"f")}get kind(){return(0,ei.__classPrivateFieldGet)(this,p,"f")}constructor(e,t,n){super(e),h.set(this,void 0),p.set(this,void 0),(0,ei.__classPrivateFieldSet)(this,h,t,"f"),(0,ei.__classPrivateFieldSet)(this,p,n,"f")}}h=new WeakMap,p=new WeakMap;class ed extends eu{constructor(e,t){super(e,t,"MenuItem")}static async new(e){return el("MenuItem",e).then(([e,t])=>new ed(e,t))}async text(){return(0,A.invoke)("plugin:menu|text",{rid:this.rid,kind:this.kind})}async setText(e){return(0,A.invoke)("plugin:menu|set_text",{rid:this.rid,kind:this.kind,text:e})}async isEnabled(){return(0,A.invoke)("plugin:menu|is_enabled",{rid:this.rid,kind:this.kind})}async setEnabled(e){return(0,A.invoke)("plugin:menu|set_enabled",{rid:this.rid,kind:this.kind,enabled:e})}async setAccelerator(e){return(0,A.invoke)("plugin:menu|set_accelerator",{rid:this.rid,kind:this.kind,accelerator:e})}}class ec extends eu{constructor(e,t){super(e,t,"Check")}static async new(e){return el("Check",e).then(([e,t])=>new ec(e,t))}async text(){return(0,A.invoke)("plugin:menu|text",{rid:this.rid,kind:this.kind})}async setText(e){return(0,A.invoke)("plugin:menu|set_text",{rid:this.rid,kind:this.kind,text:e})}async isEnabled(){return(0,A.invoke)("plugin:menu|is_enabled",{rid:this.rid,kind:this.kind})}async setEnabled(e){return(0,A.invoke)("plugin:menu|set_enabled",{rid:this.rid,kind:this.kind,enabled:e})}async setAccelerator(e){return(0,A.invoke)("plugin:menu|set_accelerator",{rid:this.rid,kind:this.kind,accelerator:e})}async isChecked(){return(0,A.invoke)("plugin:menu|is_checked",{rid:this.rid})}async setChecked(e){return(0,A.invoke)("plugin:menu|set_checked",{rid:this.rid,checked:e})}}(t=w||(w={})).Add="Add",t.Advanced="Advanced",t.Bluetooth="Bluetooth",t.Bookmarks="Bookmarks",t.Caution="Caution",t.ColorPanel="ColorPanel",t.ColumnView="ColumnView",t.Computer="Computer",t.EnterFullScreen="EnterFullScreen",t.Everyone="Everyone",t.ExitFullScreen="ExitFullScreen",t.FlowView="FlowView",t.Folder="Folder",t.FolderBurnable="FolderBurnable",t.FolderSmart="FolderSmart",t.FollowLinkFreestanding="FollowLinkFreestanding",t.FontPanel="FontPanel",t.GoLeft="GoLeft",t.GoRight="GoRight",t.Home="Home",t.IChatTheater="IChatTheater",t.IconView="IconView",t.Info="Info",t.InvalidDataFreestanding="InvalidDataFreestanding",t.LeftFacingTriangle="LeftFacingTriangle",t.ListView="ListView",t.LockLocked="LockLocked",t.LockUnlocked="LockUnlocked",t.MenuMixedState="MenuMixedState",t.MenuOnState="MenuOnState",t.MobileMe="MobileMe",t.MultipleDocuments="MultipleDocuments",t.Network="Network",t.Path="Path",t.PreferencesGeneral="PreferencesGeneral",t.QuickLook="QuickLook",t.RefreshFreestanding="RefreshFreestanding",t.Refresh="Refresh",t.Remove="Remove",t.RevealFreestanding="RevealFreestanding",t.RightFacingTriangle="RightFacingTriangle",t.Share="Share",t.Slideshow="Slideshow",t.SmartBadge="SmartBadge",t.StatusAvailable="StatusAvailable",t.StatusNone="StatusNone",t.StatusPartiallyAvailable="StatusPartiallyAvailable",t.StatusUnavailable="StatusUnavailable",t.StopProgressFreestanding="StopProgressFreestanding",t.StopProgress="StopProgress",t.TrashEmpty="TrashEmpty",t.TrashFull="TrashFull",t.User="User",t.UserAccounts="UserAccounts",t.UserGroup="UserGroup",t.UserGuest="UserGuest";class eh extends eu{constructor(e,t){super(e,t,"Icon")}static async new(e){return el("Icon",e).then(([e,t])=>new eh(e,t))}async text(){return(0,A.invoke)("plugin:menu|text",{rid:this.rid,kind:this.kind})}async setText(e){return(0,A.invoke)("plugin:menu|set_text",{rid:this.rid,kind:this.kind,text:e})}async isEnabled(){return(0,A.invoke)("plugin:menu|is_enabled",{rid:this.rid,kind:this.kind})}async setEnabled(e){return(0,A.invoke)("plugin:menu|set_enabled",{rid:this.rid,kind:this.kind,enabled:e})}async setAccelerator(e){return(0,A.invoke)("plugin:menu|set_accelerator",{rid:this.rid,kind:this.kind,accelerator:e})}async setIcon(e){return(0,A.invoke)("plugin:menu|set_icon",{rid:this.rid,kind:this.kind,icon:eo(e)})}}class ep extends eu{constructor(e,t){super(e,t,"Predefined")}static async new(e){return el("Predefined",e).then(([e,t])=>new ep(e,t))}async text(){return(0,A.invoke)("plugin:menu|text",{rid:this.rid,kind:this.kind})}async setText(e){return(0,A.invoke)("plugin:menu|set_text",{rid:this.rid,kind:this.kind,text:e})}}class ew{constructor(...e){this.type="Logical",1===e.length?"Logical"in e[0]?(this.width=e[0].Logical.width,this.height=e[0].Logical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toPhysical(e){return new eg(this.width*e,this.height*e)}[A.SERIALIZE_TO_IPC_FN](){return{width:this.width,height:this.height}}toJSON(){return this[A.SERIALIZE_TO_IPC_FN]()}}class eg{constructor(...e){this.type="Physical",1===e.length?"Physical"in e[0]?(this.width=e[0].Physical.width,this.height=e[0].Physical.height):(this.width=e[0].width,this.height=e[0].height):(this.width=e[0],this.height=e[1])}toLogical(e){return new ew(this.width/e,this.height/e)}[A.SERIALIZE_TO_IPC_FN](){return{width:this.width,height:this.height}}toJSON(){return this[A.SERIALIZE_TO_IPC_FN]()}}class em{constructor(e){this.size=e}toLogical(e){return this.size instanceof ew?this.size:this.size.toLogical(e)}toPhysical(e){return this.size instanceof eg?this.size:this.size.toPhysical(e)}[A.SERIALIZE_TO_IPC_FN](){return{[`${this.size.type}`]:{width:this.size.width,height:this.size.height}}}toJSON(){return this[A.SERIALIZE_TO_IPC_FN]()}}class ev{constructor(...e){this.type="Logical",1===e.length?"Logical"in e[0]?(this.x=e[0].Logical.x,this.y=e[0].Logical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toPhysical(e){return new ey(this.x*e,this.y*e)}[A.SERIALIZE_TO_IPC_FN](){return{x:this.x,y:this.y}}toJSON(){return this[A.SERIALIZE_TO_IPC_FN]()}}class ey{constructor(...e){this.type="Physical",1===e.length?"Physical"in e[0]?(this.x=e[0].Physical.x,this.y=e[0].Physical.y):(this.x=e[0].x,this.y=e[0].y):(this.x=e[0],this.y=e[1])}toLogical(e){return new ev(this.x/e,this.y/e)}[A.SERIALIZE_TO_IPC_FN](){return{x:this.x,y:this.y}}toJSON(){return this[A.SERIALIZE_TO_IPC_FN]()}}class eb{constructor(e){this.position=e}toLogical(e){return this.position instanceof ev?this.position:this.position.toLogical(e)}toPhysical(e){return this.position instanceof ey?this.position:this.position.toPhysical(e)}[A.SERIALIZE_TO_IPC_FN](){return{[`${this.position.type}`]:{x:this.position.x,y:this.position.y}}}toJSON(){return this[A.SERIALIZE_TO_IPC_FN]()}}function ek([e,t,n]){switch(n){case"Submenu":return new ef(e,t);case"Predefined":return new ep(e,t);case"Check":return new ec(e,t);case"Icon":return new eh(e,t);default:return new ed(e,t)}}class ef extends eu{constructor(e,t){super(e,t,"Submenu")}static async new(e){return el("Submenu",e).then(([e,t])=>new ef(e,t))}async text(){return(0,A.invoke)("plugin:menu|text",{rid:this.rid,kind:this.kind})}async setText(e){return(0,A.invoke)("plugin:menu|set_text",{rid:this.rid,kind:this.kind,text:e})}async isEnabled(){return(0,A.invoke)("plugin:menu|is_enabled",{rid:this.rid,kind:this.kind})}async setEnabled(e){return(0,A.invoke)("plugin:menu|set_enabled",{rid:this.rid,kind:this.kind,enabled:e})}async append(e){return(0,A.invoke)("plugin:menu|append",{rid:this.rid,kind:this.kind,items:(Array.isArray(e)?e:[e]).map(e=>"rid"in e?[e.rid,e.kind]:e)})}async prepend(e){return(0,A.invoke)("plugin:menu|prepend",{rid:this.rid,kind:this.kind,items:(Array.isArray(e)?e:[e]).map(e=>"rid"in e?[e.rid,e.kind]:e)})}async insert(e,t){return(0,A.invoke)("plugin:menu|insert",{rid:this.rid,kind:this.kind,items:(Array.isArray(e)?e:[e]).map(e=>"rid"in e?[e.rid,e.kind]:e),position:t})}async remove(e){return(0,A.invoke)("plugin:menu|remove",{rid:this.rid,kind:this.kind,item:[e.rid,e.kind]})}async removeAt(e){return(0,A.invoke)("plugin:menu|remove_at",{rid:this.rid,kind:this.kind,position:e}).then(ek)}async items(){return(0,A.invoke)("plugin:menu|items",{rid:this.rid,kind:this.kind}).then(e=>e.map(ek))}async get(e){return(0,A.invoke)("plugin:menu|get",{rid:this.rid,kind:this.kind,id:e}).then(e=>e?ek(e):null)}async popup(e,t){var n;return(0,A.invoke)("plugin:menu|popup",{rid:this.rid,kind:this.kind,window:null!=(n=null==t?void 0:t.label)?n:null,at:e instanceof eb?e:e?new eb(e):null})}async setAsWindowsMenuForNSApp(){return(0,A.invoke)("plugin:menu|set_as_windows_menu_for_nsapp",{rid:this.rid})}async setAsHelpMenuForNSApp(){return(0,A.invoke)("plugin:menu|set_as_help_menu_for_nsapp",{rid:this.rid})}async setIcon(e){return(0,A.invoke)("plugin:menu|set_icon",{rid:this.rid,kind:this.kind,icon:eo(e)})}}class ex extends eu{constructor(e,t){super(e,t,"Menu")}static async new(e){return el("Menu",e).then(([e,t])=>new ex(e,t))}static async default(){return(0,A.invoke)("plugin:menu|create_default").then(([e,t])=>new ex(e,t))}async append(e){return(0,A.invoke)("plugin:menu|append",{rid:this.rid,kind:this.kind,items:(Array.isArray(e)?e:[e]).map(e=>"rid"in e?[e.rid,e.kind]:e)})}async prepend(e){return(0,A.invoke)("plugin:menu|prepend",{rid:this.rid,kind:this.kind,items:(Array.isArray(e)?e:[e]).map(e=>"rid"in e?[e.rid,e.kind]:e)})}async insert(e,t){return(0,A.invoke)("plugin:menu|insert",{rid:this.rid,kind:this.kind,items:(Array.isArray(e)?e:[e]).map(e=>"rid"in e?[e.rid,e.kind]:e),position:t})}async remove(e){return(0,A.invoke)("plugin:menu|remove",{rid:this.rid,kind:this.kind,item:[e.rid,e.kind]})}async removeAt(e){return(0,A.invoke)("plugin:menu|remove_at",{rid:this.rid,kind:this.kind,position:e}).then(ek)}async items(){return(0,A.invoke)("plugin:menu|items",{rid:this.rid,kind:this.kind}).then(e=>e.map(ek))}async get(e){return(0,A.invoke)("plugin:menu|get",{rid:this.rid,kind:this.kind,id:e}).then(e=>e?ek(e):null)}async popup(e,t){var n;return(0,A.invoke)("plugin:menu|popup",{rid:this.rid,kind:this.kind,window:null!=(n=null==t?void 0:t.label)?n:null,at:e instanceof eb?e:e?new eb(e):null})}async setAsAppMenu(){return(0,A.invoke)("plugin:menu|set_as_app_menu",{rid:this.rid}).then(e=>e?new ex(e[0],e[1]):null)}async setAsWindowMenu(e){var t;return(0,A.invoke)("plugin:menu|set_as_window_menu",{rid:this.rid,window:null!=(t=null==e?void 0:e.label)?t:null}).then(e=>e?new ex(e[0],e[1]):null)}}var e_=A;class eS extends e_.Resource{constructor(e,t){super(e),this.id=t}static async getById(e){return(0,e_.invoke)("plugin:tray|get_by_id",{id:e}).then(t=>t?new eS(t,e):null)}static async removeById(e){return(0,e_.invoke)("plugin:tray|remove_by_id",{id:e})}static async new(e){(null==e?void 0:e.menu)&&(e.menu=[e.menu.rid,e.menu.kind]),(null==e?void 0:e.icon)&&(e.icon=eo(e.icon));let t=new e_.Channel;if(null==e?void 0:e.action){let n=e.action;t.onmessage=e=>{var t;return n(((t=e).position=new ey(t.position),t.rect.position=new ey(t.rect.position),t.rect.size=new eg(t.rect.size),t))},delete e.action}return(0,e_.invoke)("plugin:tray|new",{options:null!=e?e:{},handler:t}).then(([e,t])=>new eS(e,t))}async setIcon(e){let t=null;return e&&(t=eo(e)),(0,e_.invoke)("plugin:tray|set_icon",{rid:this.rid,icon:t})}async setMenu(e){return e&&(e=[e.rid,e.kind]),(0,e_.invoke)("plugin:tray|set_menu",{rid:this.rid,menu:e})}async setTooltip(e){return(0,e_.invoke)("plugin:tray|set_tooltip",{rid:this.rid,tooltip:e})}async setTitle(e){return(0,e_.invoke)("plugin:tray|set_title",{rid:this.rid,title:e})}async setVisible(e){return(0,e_.invoke)("plugin:tray|set_visible",{rid:this.rid,visible:e})}async setTempDirPath(e){return(0,e_.invoke)("plugin:tray|set_temp_dir_path",{rid:this.rid,path:e})}async setIconAsTemplate(e){return(0,e_.invoke)("plugin:tray|set_icon_as_template",{rid:this.rid,asTemplate:e})}async setMenuOnLeftClick(e){return(0,e_.invoke)("plugin:tray|set_show_menu_on_left_click",{rid:this.rid,onLeft:e})}async setShowMenuOnLeftClick(e){return(0,e_.invoke)("plugin:tray|set_show_menu_on_left_click",{rid:this.rid,onLeft:e})}}async function eE(){return(0,A.invoke)("plugin:app|default_window_icon").then(e=>e?new er(e):null)}(n=g||(g={})).Nsis="nsis",n.Msi="msi",n.Deb="deb",n.Rpm="rpm",n.AppImage="appimage",n.App="app";var eA=e.i(99621);(i=m||(m={}))[i.Critical=1]="Critical",i[i.Informational=2]="Informational";class eC{constructor(e){this._preventDefault=!1,this.event=e.event,this.id=e.id}preventDefault(){this._preventDefault=!0}isPreventDefault(){return this._preventDefault}}function eI(){return new eL(window.__TAURI_INTERNALS__.metadata.currentWindow.label,{skip:!0})}async function eN(){return(0,A.invoke)("plugin:window|get_all_windows").then(e=>e.map(e=>new eL(e,{skip:!0})))}(s=v||(v={})).None="none",s.Normal="normal",s.Indeterminate="indeterminate",s.Paused="paused",s.Error="error";let eP=["tauri://created","tauri://error"];class eL{constructor(e,t={}){var n;this.label=e,this.listeners=Object.create(null),(null==t?void 0:t.skip)||(0,A.invoke)("plugin:window|create",{options:{...t,parent:"string"==typeof t.parent?t.parent:null==(n=t.parent)?void 0:n.label,label:e}}).then(async()=>this.emit("tauri://created")).catch(async e=>this.emit("tauri://error",e))}static async getByLabel(e){var t;return null!=(t=(await eN()).find(t=>t.label===e))?t:null}static getCurrent(){return eI()}static async getAll(){return eN()}static async getFocusedWindow(){for(let e of(await eN()))if(await e.isFocused())return e;return null}async listen(e,t){return this._handleTauriEvent(e,t)?()=>{let n=this.listeners[e];n.splice(n.indexOf(t),1)}:(0,eA.listen)(e,t,{target:{kind:"Window",label:this.label}})}async once(e,t){return this._handleTauriEvent(e,t)?()=>{let n=this.listeners[e];n.splice(n.indexOf(t),1)}:(0,eA.once)(e,t,{target:{kind:"Window",label:this.label}})}async emit(e,t){if(eP.includes(e)){for(let n of this.listeners[e]||[])n({event:e,id:-1,payload:t});return}return(0,eA.emit)(e,t)}async emitTo(e,t,n){if(eP.includes(t)){for(let e of this.listeners[t]||[])e({event:t,id:-1,payload:n});return}return(0,eA.emitTo)(e,t,n)}_handleTauriEvent(e,t){return!!eP.includes(e)&&(e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t],!0)}async scaleFactor(){return(0,A.invoke)("plugin:window|scale_factor",{label:this.label})}async innerPosition(){return(0,A.invoke)("plugin:window|inner_position",{label:this.label}).then(e=>new ey(e))}async outerPosition(){return(0,A.invoke)("plugin:window|outer_position",{label:this.label}).then(e=>new ey(e))}async innerSize(){return(0,A.invoke)("plugin:window|inner_size",{label:this.label}).then(e=>new eg(e))}async outerSize(){return(0,A.invoke)("plugin:window|outer_size",{label:this.label}).then(e=>new eg(e))}async isFullscreen(){return(0,A.invoke)("plugin:window|is_fullscreen",{label:this.label})}async isMinimized(){return(0,A.invoke)("plugin:window|is_minimized",{label:this.label})}async isMaximized(){return(0,A.invoke)("plugin:window|is_maximized",{label:this.label})}async isFocused(){return(0,A.invoke)("plugin:window|is_focused",{label:this.label})}async isDecorated(){return(0,A.invoke)("plugin:window|is_decorated",{label:this.label})}async isResizable(){return(0,A.invoke)("plugin:window|is_resizable",{label:this.label})}async isMaximizable(){return(0,A.invoke)("plugin:window|is_maximizable",{label:this.label})}async isMinimizable(){return(0,A.invoke)("plugin:window|is_minimizable",{label:this.label})}async isClosable(){return(0,A.invoke)("plugin:window|is_closable",{label:this.label})}async isVisible(){return(0,A.invoke)("plugin:window|is_visible",{label:this.label})}async title(){return(0,A.invoke)("plugin:window|title",{label:this.label})}async theme(){return(0,A.invoke)("plugin:window|theme",{label:this.label})}async isAlwaysOnTop(){return(0,A.invoke)("plugin:window|is_always_on_top",{label:this.label})}async center(){return(0,A.invoke)("plugin:window|center",{label:this.label})}async requestUserAttention(e){let t=null;return e&&(t=e===m.Critical?{type:"Critical"}:{type:"Informational"}),(0,A.invoke)("plugin:window|request_user_attention",{label:this.label,value:t})}async setResizable(e){return(0,A.invoke)("plugin:window|set_resizable",{label:this.label,value:e})}async setEnabled(e){return(0,A.invoke)("plugin:window|set_enabled",{label:this.label,value:e})}async isEnabled(){return(0,A.invoke)("plugin:window|is_enabled",{label:this.label})}async setMaximizable(e){return(0,A.invoke)("plugin:window|set_maximizable",{label:this.label,value:e})}async setMinimizable(e){return(0,A.invoke)("plugin:window|set_minimizable",{label:this.label,value:e})}async setClosable(e){return(0,A.invoke)("plugin:window|set_closable",{label:this.label,value:e})}async setTitle(e){return(0,A.invoke)("plugin:window|set_title",{label:this.label,value:e})}async maximize(){return(0,A.invoke)("plugin:window|maximize",{label:this.label})}async unmaximize(){return(0,A.invoke)("plugin:window|unmaximize",{label:this.label})}async toggleMaximize(){return(0,A.invoke)("plugin:window|toggle_maximize",{label:this.label})}async minimize(){return(0,A.invoke)("plugin:window|minimize",{label:this.label})}async unminimize(){return(0,A.invoke)("plugin:window|unminimize",{label:this.label})}async show(){return(0,A.invoke)("plugin:window|show",{label:this.label})}async hide(){return(0,A.invoke)("plugin:window|hide",{label:this.label})}async close(){return(0,A.invoke)("plugin:window|close",{label:this.label})}async destroy(){return(0,A.invoke)("plugin:window|destroy",{label:this.label})}async setDecorations(e){return(0,A.invoke)("plugin:window|set_decorations",{label:this.label,value:e})}async setShadow(e){return(0,A.invoke)("plugin:window|set_shadow",{label:this.label,value:e})}async setEffects(e){return(0,A.invoke)("plugin:window|set_effects",{label:this.label,value:e})}async clearEffects(){return(0,A.invoke)("plugin:window|set_effects",{label:this.label,value:null})}async setAlwaysOnTop(e){return(0,A.invoke)("plugin:window|set_always_on_top",{label:this.label,value:e})}async setAlwaysOnBottom(e){return(0,A.invoke)("plugin:window|set_always_on_bottom",{label:this.label,value:e})}async setContentProtected(e){return(0,A.invoke)("plugin:window|set_content_protected",{label:this.label,value:e})}async setSize(e){return(0,A.invoke)("plugin:window|set_size",{label:this.label,value:e instanceof em?e:new em(e)})}async setMinSize(e){return(0,A.invoke)("plugin:window|set_min_size",{label:this.label,value:e instanceof em?e:e?new em(e):null})}async setMaxSize(e){return(0,A.invoke)("plugin:window|set_max_size",{label:this.label,value:e instanceof em?e:e?new em(e):null})}async setSizeConstraints(e){function t(e){return e?{Logical:e}:null}return(0,A.invoke)("plugin:window|set_size_constraints",{label:this.label,value:{minWidth:t(null==e?void 0:e.minWidth),minHeight:t(null==e?void 0:e.minHeight),maxWidth:t(null==e?void 0:e.maxWidth),maxHeight:t(null==e?void 0:e.maxHeight)}})}async setPosition(e){return(0,A.invoke)("plugin:window|set_position",{label:this.label,value:e instanceof eb?e:new eb(e)})}async setFullscreen(e){return(0,A.invoke)("plugin:window|set_fullscreen",{label:this.label,value:e})}async setSimpleFullscreen(e){return(0,A.invoke)("plugin:window|set_simple_fullscreen",{label:this.label,value:e})}async setFocus(){return(0,A.invoke)("plugin:window|set_focus",{label:this.label})}async setFocusable(e){return(0,A.invoke)("plugin:window|set_focusable",{label:this.label,value:e})}async setIcon(e){return(0,A.invoke)("plugin:window|set_icon",{label:this.label,value:eo(e)})}async setSkipTaskbar(e){return(0,A.invoke)("plugin:window|set_skip_taskbar",{label:this.label,value:e})}async setCursorGrab(e){return(0,A.invoke)("plugin:window|set_cursor_grab",{label:this.label,value:e})}async setCursorVisible(e){return(0,A.invoke)("plugin:window|set_cursor_visible",{label:this.label,value:e})}async setCursorIcon(e){return(0,A.invoke)("plugin:window|set_cursor_icon",{label:this.label,value:e})}async setBackgroundColor(e){return(0,A.invoke)("plugin:window|set_background_color",{color:e})}async setCursorPosition(e){return(0,A.invoke)("plugin:window|set_cursor_position",{label:this.label,value:e instanceof eb?e:new eb(e)})}async setIgnoreCursorEvents(e){return(0,A.invoke)("plugin:window|set_ignore_cursor_events",{label:this.label,value:e})}async startDragging(){return(0,A.invoke)("plugin:window|start_dragging",{label:this.label})}async startResizeDragging(e){return(0,A.invoke)("plugin:window|start_resize_dragging",{label:this.label,value:e})}async setBadgeCount(e){return(0,A.invoke)("plugin:window|set_badge_count",{label:this.label,value:e})}async setBadgeLabel(e){return(0,A.invoke)("plugin:window|set_badge_label",{label:this.label,value:e})}async setOverlayIcon(e){return(0,A.invoke)("plugin:window|set_overlay_icon",{label:this.label,value:e?eo(e):void 0})}async setProgressBar(e){return(0,A.invoke)("plugin:window|set_progress_bar",{label:this.label,value:e})}async setVisibleOnAllWorkspaces(e){return(0,A.invoke)("plugin:window|set_visible_on_all_workspaces",{label:this.label,value:e})}async setTitleBarStyle(e){return(0,A.invoke)("plugin:window|set_title_bar_style",{label:this.label,value:e})}async setTheme(e){return(0,A.invoke)("plugin:window|set_theme",{label:this.label,value:e})}async onResized(e){return this.listen(eA.TauriEvent.WINDOW_RESIZED,t=>{t.payload=new eg(t.payload),e(t)})}async onMoved(e){return this.listen(eA.TauriEvent.WINDOW_MOVED,t=>{t.payload=new ey(t.payload),e(t)})}async onCloseRequested(e){return this.listen(eA.TauriEvent.WINDOW_CLOSE_REQUESTED,async t=>{let n=new eC(t);await e(n),n.isPreventDefault()||await this.destroy()})}async onDragDropEvent(e){let t=await this.listen(eA.TauriEvent.DRAG_ENTER,t=>{e({...t,payload:{type:"enter",paths:t.payload.paths,position:new ey(t.payload.position)}})}),n=await this.listen(eA.TauriEvent.DRAG_OVER,t=>{e({...t,payload:{type:"over",position:new ey(t.payload.position)}})}),i=await this.listen(eA.TauriEvent.DRAG_DROP,t=>{e({...t,payload:{type:"drop",paths:t.payload.paths,position:new ey(t.payload.position)}})}),s=await this.listen(eA.TauriEvent.DRAG_LEAVE,t=>{e({...t,payload:{type:"leave"}})});return()=>{t(),i(),n(),s()}}async onFocusChanged(e){let t=await this.listen(eA.TauriEvent.WINDOW_FOCUS,t=>{e({...t,payload:!0})}),n=await this.listen(eA.TauriEvent.WINDOW_BLUR,t=>{e({...t,payload:!1})});return()=>{t(),n()}}async onScaleChanged(e){return this.listen(eA.TauriEvent.WINDOW_SCALE_FACTOR_CHANGED,e)}async onThemeChanged(e){return this.listen(eA.TauriEvent.WINDOW_THEME_CHANGED,e)}}(a=y||(y={})).Disabled="disabled",a.Throttle="throttle",a.Suspend="suspend",(r=b||(b={})).AppearanceBased="appearanceBased",r.Light="light",r.Dark="dark",r.MediumLight="mediumLight",r.UltraDark="ultraDark",r.Titlebar="titlebar",r.Selection="selection",r.Menu="menu",r.Popover="popover",r.Sidebar="sidebar",r.HeaderView="headerView",r.Sheet="sheet",r.WindowBackground="windowBackground",r.HudWindow="hudWindow",r.FullScreenUI="fullScreenUI",r.Tooltip="tooltip",r.ContentBackground="contentBackground",r.UnderWindowBackground="underWindowBackground",r.UnderPageBackground="underPageBackground",r.Mica="mica",r.Blur="blur",r.Acrylic="acrylic",r.Tabbed="tabbed",r.TabbedDark="tabbedDark",r.TabbedLight="tabbedLight",(o=k||(k={})).FollowsWindowActiveState="followsWindowActiveState",o.Active="active",o.Inactive="inactive";let eT="shop-management-tray",eF=null;async function eM(){try{let e=await eS.getById(eT);e&&await e.close()}catch{}if(eF){try{await eF.close()}catch{}eF=null}let e=eI(),t=await eE();if(!t)return void console.warn("No default icon available for system tray");let n=await ex.new({items:[await ed.new({id:"show",text:"Show Window",action:async()=>{await e.show(),await e.unminimize(),await e.setFocus()}}),await ed.new({id:"hide",text:"Hide Window",action:()=>e.hide()}),await ed.new({id:"separator-1",text:"---------------------",enabled:!1}),await ed.new({id:"quit",text:"Quit",action:()=>C()})]});eF=await eS.new({id:eT,icon:t,menu:n,tooltip:"Shop Management System",menuOnLeftClick:!1,action:async t=>{"Click"===t.type&&"Left"===t.button&&(await e.isVisible()?await e.hide():(await e.show(),await e.unminimize(),await e.setFocus()))}})}async function ej(e){await (0,A.invoke)("plugin:window-state|save_window_state",{flags:e})}async function eU(e,t){await (0,A.invoke)("plugin:window-state|restore_state",{label:e,flags:t})}async function eq(e){await eU(eI().label,e)}async function eR(){let e=eI();await eq(f.ALL),await e.onCloseRequested(async t=>{t.preventDefault(),await ej(f.ALL),await e.hide()})}async function eD(){try{await eR(),await eM(),console.log("Desktop features initialized")}catch(e){console.error("Failed to initialize desktop features:",e)}}e.i(89807),(l=f||(f={}))[l.SIZE=1]="SIZE",l[l.POSITION=2]="POSITION",l[l.MAXIMIZED=4]="MAXIMIZED",l[l.VISIBLE=8]="VISIBLE",l[l.DECORATIONS=16]="DECORATIONS",l[l.FULLSCREEN=32]="FULLSCREEN",l[l.ALL=63]="ALL";var ez=e.i(13273),eO=A;class eB extends eO.Resource{constructor(e){super(e.rid),this.available=!0,this.currentVersion=e.currentVersion,this.version=e.version,this.date=e.date,this.body=e.body,this.rawJson=e.rawJson}async download(e,t){eW(t);let n=new eO.Channel;e&&(n.onmessage=e);let i=await (0,eO.invoke)("plugin:updater|download",{onEvent:n,rid:this.rid,...t});this.downloadedBytes=new eO.Resource(i)}async install(){if(!this.downloadedBytes)throw Error("Update.install called before Update.download");await (0,eO.invoke)("plugin:updater|install",{updateRid:this.rid,bytesRid:this.downloadedBytes.rid}),this.downloadedBytes=void 0}async downloadAndInstall(e,t){eW(t);let n=new eO.Channel;e&&(n.onmessage=e),await (0,eO.invoke)("plugin:updater|download_and_install",{onEvent:n,rid:this.rid,...t})}async close(){await this.downloadedBytes?.close(),await super.close()}}async function eV(e){eW(e);let t=await (0,eO.invoke)("plugin:updater|check",{...e});return t?new eB(t):null}function eW(e){e?.headers&&(e.headers=Array.from(new Headers(e.headers).entries()))}async function eQ(e,t){let n="string"==typeof t?{title:t}:t;return(0,A.invoke)("plugin:dialog|message",{message:e.toString(),title:n?.title?.toString(),kind:n?.kind,okButtonLabel:n?.okLabel?.toString(),buttons:function(e){if(void 0!==e){if("string"==typeof e)return e;else if("ok"in e&&"cancel"in e)return{OkCancelCustom:[e.ok,e.cancel]};else if("yes"in e&&"no"in e&&"cancel"in e)return{YesNoCancelCustom:[e.yes,e.no,e.cancel]};else if("ok"in e)return{OkCustom:e.ok}}}(n?.buttons)})}async function e$(e,t){let n="string"==typeof t?{title:t}:t;return await (0,A.invoke)("plugin:dialog|ask",{message:e.toString(),title:n?.title?.toString(),kind:n?.kind,yesButtonLabel:n?.okLabel?.toString(),noButtonLabel:n?.cancelLabel?.toString()})}async function eH(e){let t=await eV();t?.available?t?.available?(console.log("Update available!",t.version,t.body),await e$(`Update to ${t.version} is available!

Release notes: ${t.body}`,{title:"Update Available",kind:"info",okLabel:"Update",cancelLabel:"Cancel"})?(await t.downloadAndInstall(),await I()):await C(0)):e&&await eQ("You are on the latest version. Stay awesome!",{title:"No Update Available",kind:"info",okLabel:"OK"}):console.log("No update available")}let eG=e.i(4730).default.version;var eZ=e.i(93280),eJ=e.i(34487);async function eK(e,t,n,i,s){let a=new Uint32Array(1);window.crypto.getRandomValues(a);let r=a[0],o=new A.Channel;n&&(o.onmessage=n),await (0,A.invoke)("plugin:upload|download",{id:r,url:e,filePath:t,headers:i??{},onProgress:o,body:s})}async function eY(){return(0,A.invoke)("plugin:path|resolve_directory",{directory:x.Download})}async function eX(...e){return(0,A.invoke)("plugin:path|join",{paths:e})}(u=x||(x={}))[u.Audio=1]="Audio",u[u.Cache=2]="Cache",u[u.Config=3]="Config",u[u.Data=4]="Data",u[u.LocalData=5]="LocalData",u[u.Document=6]="Document",u[u.Download=7]="Download",u[u.Picture=8]="Picture",u[u.Public=9]="Public",u[u.Video=10]="Video",u[u.Resource=11]="Resource",u[u.Temp=12]="Temp",u[u.AppConfig=13]="AppConfig",u[u.AppData=14]="AppData",u[u.AppLocalData=15]="AppLocalData",u[u.AppCache=16]="AppCache",u[u.AppLog=17]="AppLog",u[u.Desktop=18]="Desktop",u[u.Executable=19]="Executable",u[u.Font=20]="Font",u[u.Home=21]="Home",u[u.Runtime=22]="Runtime",u[u.Template=23]="Template";async function e0(e,t){if(e instanceof URL&&"file:"!==e.protocol)throw TypeError("Must be a file URL.");await (0,A.invoke)("plugin:fs|remove",{path:e instanceof URL?e.toString():e,options:t})}async function e1(e,t){if(e instanceof URL&&"file:"!==e.protocol)throw TypeError("Must be a file URL.");return await (0,A.invoke)("plugin:fs|exists",{path:e instanceof URL?e.toString():e,options:t})}async function e2(e,t){await (0,A.invoke)("plugin:opener|open_url",{url:e,with:t})}async function e4(e,t){await (0,A.invoke)("plugin:opener|open_path",{path:e,with:t})}async function e5(){try{if("__TAURI__"in window)try{switch((0,eZ.platform)()){case"android":case"windows":case"macos":case"linux":default:return"android-aarch64";case"ios":return"darwin-aarch64"}}catch(e){console.warn("Failed to get platform from Tauri OS plugin, falling back to user agent:",e)}let e=navigator.userAgent.toLowerCase();if(/android/.test(e));else if(/iphone|ipad|ipod/.test(e))return"darwin-aarch64";return"android-aarch64"}catch(e){return console.error("Error detecting platform:",e),"android-aarch64"}}(d=_||(_={}))[d.Start=0]="Start",d[d.Current=1]="Current",d[d.End=2]="End",A.Resource,A.Resource;class e6{static instance;isInitialized=!1;checkInterval=null;listeners=[];isEnabled=!1;currentState={status:"idle"};UPDATE_ENDPOINT="https://updater-worker.stackproviders.workers.dev/latest?ttl=300";constructor(){}static getInstance(){return e6.instance||(e6.instance=new e6),e6.instance}setEnabled(e){this.isEnabled=e,e&&!this.isInitialized?this.initialize():e||this.stopPeriodicChecks()}subscribe(e){return this.listeners.push(e),e(this.currentState),()=>{this.listeners=this.listeners.filter(t=>t!==e)}}notifyListeners(){this.listeners.forEach(e=>e(this.currentState))}updateState(e){this.currentState={...this.currentState,...e},this.notifyListeners()}async initialize(){if(!this.isInitialized&&this.isEnabled)try{await this.checkForUpdates(),this.startPeriodicChecks(),this.isInitialized=!0,console.log("Mobile auto-updater initialized")}catch(e){console.error("Failed to initialize mobile auto-updater:",e),this.updateState({status:"error",error:e instanceof Error?e.message:"Failed to initialize updater"})}}async checkForUpdates(){if(!this.isEnabled)return null;try{this.updateState({status:"checking",error:void 0});let e=await (0,eJ.fetch)(this.UPDATE_ENDPOINT,{method:"GET",headers:{Accept:"application/json","Cache-Control":"no-cache"}});if(!e.ok)throw Error(`HTTP ${e.status}: ${e.statusText}`);let t=await e.json();if(!(function(e,t){let n=e.split(".").map(Number),i=t.split(".").map(Number);for(let e=0;e<Math.max(n.length,i.length);e++){let t=n[e]||0,s=i[e]||0;if(t>s)return 1;if(t<s)return -1}return 0}(t.version,eG)>0))return console.log(`Mobile app is up to date. Current version (v${eG}) is same or newer than available version (v${t.version})`),this.updateState({status:"up-to-date",update:t,error:void 0}),null;{let e;console.log(`Mobile update available: v${t.version} (current: v${eG})`);let n=await e5(),i=t.platforms[n];if(!i)throw Error(`No update available for platform: ${n}`);let s=this.getDownloadedVersion()===t.version;if(s)try{let n=await eY(),i=`Shop-Management-System-${t.version}.apk`,s=await eX(n,i);await e1(s)?e=s:this.clearDownloadedVersion()}catch(e){console.warn("Error checking file existence:",e),this.clearDownloadedVersion()}return this.updateState({status:s&&e?"downloaded":"available",update:t,downloadUrl:i.url,downloadedVersion:s&&e?t.version:void 0,downloadedFilePath:e,error:void 0}),t}}catch(e){return console.log("Update check failed (offline or network issue):",e),this.updateState({status:"idle",error:void 0}),null}}async downloadUpdate(){if("available"!==this.currentState.status||!this.currentState.downloadUrl)throw Error("No update available to download");let e=0,t=0;try{this.updateState({status:"downloading",error:void 0,progress:0});let n=await eY(),i=`Shop-Management-System-${this.currentState.update?.version||"latest"}.apk`,s=await eX(n,i);if(await e1(s)){let e=this.currentState.update?.version||"unknown";this.setDownloadedVersion(e),this.updateState({status:"downloaded",progress:100,downloadedVersion:e,downloadedFilePath:s});return}await eK(this.currentState.downloadUrl,s,n=>{let i="number"==typeof n.progress?n.progress:0,s="number"==typeof n.total?n.total:0;if(s>0){t=s,e+=i;let n=Math.min(99,Math.round(e/t*100));this.updateState({progress:n})}},new Map([["Accept","application/octet-stream"],["User-Agent","Shop-Management-System-Updater"]]));let a=this.currentState.update?.version||"unknown";this.setDownloadedVersion(a),this.updateState({status:"downloaded",progress:100,downloadedVersion:a,downloadedFilePath:s})}catch(t){console.error("Download error:",t);let e="Failed to download update";throw t instanceof Error&&(e=t.message.includes("network")||t.message.includes("fetch")?"Network error. Please check your internet connection and try again.":t.message.includes("HTTP")?`Download failed: ${t.message}`:t.message),this.updateState({status:"error",error:e}),t}}async installUpdate(){try{this.updateState({status:"installing",error:void 0});let e=await e5();if("android-aarch64"===e){let e=this.currentState.downloadedFilePath;if(console.log("localPath",e),e)try{if(!await e1(e))throw Error("Downloaded file not found");await e4(e),this.showInstallNotification(),setTimeout(()=>{this.clearDownloadedState()},2e3);return}catch(e){console.warn("Local install failed, falling back to URL:",e)}if(this.currentState.downloadUrl)try{await e2(this.currentState.downloadUrl),this.showInstallNotification(),setTimeout(()=>{this.clearDownloadedState()},2e3)}catch(e){console.error("Installation failed:",e),window.open(this.currentState.downloadUrl,"_blank"),this.updateState({status:"downloaded",error:void 0})}}else"darwin-aarch64"===e?(this.currentState.downloadUrl&&window.open(this.currentState.downloadUrl,"_blank"),this.updateState({status:"downloaded",error:void 0}),alert("Please update through the App Store to get the latest version.")):(this.currentState.downloadUrl&&window.open(this.currentState.downloadUrl,"_blank"),this.updateState({status:"downloaded",error:void 0}),alert("Please install the downloaded file to update the application."))}catch(e){throw console.error("Install error:",e),this.updateState({status:"error",error:"Failed to install update"}),e}}startPeriodicChecks(){this.checkInterval=window.setInterval(()=>{this.checkForUpdates()},864e5)}stopPeriodicChecks(){this.checkInterval&&(clearInterval(this.checkInterval),this.checkInterval=null)}getCurrentState(){return this.currentState}clearDownloadedState(){this.downloadedBlob=void 0,this.clearDownloadedVersion(),this.updateState({status:"available",progress:void 0,downloadedVersion:void 0,downloadedFilePath:void 0})}async cleanupDownloadedFiles(){try{let e=this.getDownloadedVersion();if(e){let t=await eY(),n=`Shop-Management-System-${e}.apk`,i=await eX(t,n);await e1(i)&&(await e0(i),console.log(`Cleaned up downloaded file: ${i}`))}}catch(e){console.warn("Error cleaning up downloaded files:",e)}}getDownloadedVersion(){return localStorage.getItem("downloadedAppVersion")}setDownloadedVersion(e){localStorage.setItem("downloadedAppVersion",e)}clearDownloadedVersion(){localStorage.removeItem("downloadedAppVersion")}showInstallNotification(){"Notification"in window&&"granted"===Notification.permission&&new Notification("App Update",{body:`Installation started for v${this.currentState.update?.version||"latest"}. The APK file will open automatically.`,icon:"/favicon.ico"})}checkIfAppWasUpdated(){let e=localStorage.getItem("lastKnownAppVersion");return e&&e!==eG?(localStorage.setItem("lastKnownAppVersion",eG),!0):(e||localStorage.setItem("lastKnownAppVersion",eG),!1)}showUpdateSuccessMessage(){this.checkIfAppWasUpdated()&&alert(`
ðŸŽ‰ Update Successful!

âœ… Your app has been updated successfully.
âœ… All your data and settings have been preserved.
âœ… You're now running the latest version.

Thank you for keeping your app up to date!
      `)}destroy(){this.stopPeriodicChecks(),this.isInitialized=!1,this.listeners=[],this.currentState={status:"idle"}}}let e8=e6.getInstance();var e3=e.i(87486);let e9=(0,V.default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]),e7=(0,V.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var te=e.i(50699),tt=e.i(59578),tn=e.i(96395);let ti=(0,V.default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),ts=(0,E.createContext)(void 0);function ta({children:e}){let[t,n]=(0,E.useState)(e8.getCurrentState()),[i,s]=(0,E.useState)(navigator.onLine);(0,E.useEffect)(()=>{let e=e8.subscribe(n),t=()=>s(!0),i=()=>s(!1);return window.addEventListener("online",t),window.addEventListener("offline",i),e8.showUpdateSuccessMessage(),e8.setEnabled(navigator.onLine),()=>{e(),window.removeEventListener("online",t),window.removeEventListener("offline",i)}},[]),(0,E.useEffect)(()=>{e8.setEnabled(i)},[i]);let a=(0,E.useCallback)(async()=>{try{await e8.checkForUpdates()}catch(e){console.error("Failed to check for updates:",e)}},[]),r=(0,E.useCallback)(async()=>{try{await e8.downloadUpdate()}catch(e){console.error("Failed to download update:",e)}},[]),o=(0,E.useCallback)(async()=>{try{await e8.installUpdate()}catch(e){console.error("Failed to install update:",e)}},[]),l=(0,E.useCallback)(e=>{e8.setEnabled(e)},[]),u=(0,E.useCallback)(()=>{e8.clearDownloadedState()},[]),d=(0,E.useMemo)(()=>({state:t,checkForUpdates:a,downloadAndInstall:r,installUpdate:o,setEnabled:l,clearDownloadedState:u,isChecking:"checking"===t.status,isDownloading:"downloading"===t.status,isInstalling:"installing"===t.status,hasUpdate:"available"===t.status,isDownloaded:"downloaded"===t.status,hasError:"error"===t.status,isUpToDate:"up-to-date"===t.status}),[t,a,r,o,l,u]),c=(0,E.useMemo)(()=>"checking"===t.status?(0,S.jsx)(tt.Loader2,{className:"h-5 w-5 animate-spin text-blue-500"}):"available"===t.status?(0,S.jsx)(e9,{className:"h-5 w-5 text-orange-500"}):"downloading"===t.status?(0,S.jsx)(tt.Loader2,{className:"h-5 w-5 animate-spin text-blue-500"}):"downloaded"===t.status?(0,S.jsx)(e7,{className:"h-5 w-5 text-green-500"}):"installing"===t.status?(0,S.jsx)(tt.Loader2,{className:"h-5 w-5 animate-spin text-blue-500"}):"error"===t.status?(0,S.jsx)(te.AlertCircle,{className:"h-5 w-5 text-red-500"}):(0,S.jsx)(tn.Smartphone,{className:"h-5 w-5 text-blue-500"}),[t.status]),h=(0,E.useMemo)(()=>"checking"===t.status?"Checking for updates...":"available"===t.status?`Update available: v${t.update?.version}`:"downloading"===t.status?`Downloading update... ${t.progress||0}%`:"downloaded"===t.status?`Ready to install v${t.downloadedVersion||t.update?.version}`:"installing"===t.status?"Installing update...":"error"===t.status?`Error: ${t.error}`:"App Updates",[t.status,t.update?.version,t.progress,t.downloadedVersion,t.error]),p=(0,E.useCallback)(e=>{try{return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return e}},[]),w=(0,E.useMemo)(()=>"checking"===t.status||"downloading"===t.status||"installing"===t.status,[t.status]),g=(0,E.useMemo)(()=>("available"===t.status||"downloading"===t.status||"downloaded"===t.status||"installing"===t.status||"error"===t.status)&&i,[t.status,i]);return(0,S.jsxs)(ts.Provider,{value:d,children:[e,g&&(0,S.jsx)("div",{className:"fixed bottom-4 left-4 right-4 z-40 max-w-sm mx-auto",children:(0,S.jsxs)(L.Card,{className:"w-full shadow-lg border-2 border-blue-200 dark:border-blue-800 bg-white dark:bg-gray-900",children:[(0,S.jsx)(L.CardHeader,{className:"pb-2",children:(0,S.jsxs)("div",{className:"flex items-center justify-between",children:[(0,S.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,S.jsx)(tn.Smartphone,{className:"h-4 w-4 text-blue-500"}),(0,S.jsxs)("div",{children:[(0,S.jsx)(L.CardTitle,{className:"text-sm",children:"App Updates"}),(0,S.jsx)(L.CardDescription,{className:"text-xs",children:"Update available"})]})]}),(0,S.jsxs)(e3.Badge,{variant:"outline",className:"text-xs",children:["v",eG]})]})}),(0,S.jsxs)(L.CardContent,{className:"space-y-3",children:[(0,S.jsxs)("div",{className:"flex items-center space-x-2 p-2 border rounded-lg bg-gray-50 dark:bg-gray-800",children:[c,(0,S.jsxs)("div",{className:"flex-1",children:[(0,S.jsx)("p",{className:"text-xs font-medium",children:h}),void 0!==t.progress&&"downloading"===t.status&&(0,S.jsx)("div",{className:"mt-1 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-1.5",children:(0,S.jsx)("div",{className:"bg-blue-600 h-1.5 rounded-full transition-all duration-300",style:{width:`${t.progress}%`}})})]})]}),"available"===t.status&&t.update&&(0,S.jsxs)("div",{className:"text-xs text-orange-700 dark:text-orange-300 bg-orange-50 dark:bg-orange-900/20 p-2 rounded border border-orange-200 dark:border-orange-800",children:[(0,S.jsxs)("p",{className:"font-medium",children:["New version: v",t.update.version]}),(0,S.jsx)("p",{className:"text-xs text-orange-600 dark:text-orange-400",children:p(t.update.pub_date)})]}),"downloaded"===t.status&&(0,S.jsxs)("div",{className:"text-xs text-blue-700 dark:text-blue-300 bg-blue-50 dark:bg-blue-900/20 p-2 rounded border border-blue-200 dark:border-blue-800",children:[(0,S.jsxs)("p",{className:"font-medium",children:["âœ“ Ready to install v",t.downloadedVersion||t.update?.version]}),(0,S.jsx)("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:t.downloadedFilePath?"File ready - click Install to auto-install":"Update downloaded successfully"})]}),"error"===t.status&&(0,S.jsxs)("div",{className:"text-xs text-red-700 dark:text-red-300 bg-red-50 dark:bg-red-900/20 p-2 rounded border border-red-200 dark:border-red-800",children:[(0,S.jsx)("p",{className:"font-medium",children:"Update Error"}),(0,S.jsx)("p",{className:"text-xs text-red-600 dark:text-red-400",children:t.error})]}),(0,S.jsxs)("div",{className:"flex gap-2",children:[("available"===t.status||"downloading"===t.status)&&(0,S.jsxs)(N.Button,{onClick:r,disabled:w,size:"sm",className:"flex-1 text-xs",children:["downloading"===t.status?(0,S.jsx)(tt.Loader2,{className:"h-3 w-3 animate-spin mr-1"}):(0,S.jsx)(e9,{className:"h-3 w-3 mr-1"}),"downloading"===t.status?`${t.progress||0}%`:"Download"]}),("downloaded"===t.status||"installing"===t.status)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(N.Button,{onClick:o,disabled:w,size:"sm",className:"flex-1 text-xs",children:["installing"===t.status?(0,S.jsx)(tt.Loader2,{className:"h-3 w-3 animate-spin mr-1"}):(0,S.jsx)(ti,{className:"h-3 w-3 mr-1"}),"installing"===t.status?"Installing...":"Install"]}),"downloaded"===t.status&&(0,S.jsx)(N.Button,{onClick:u,disabled:w,variant:"outline",size:"sm",className:"text-xs",children:"Dismiss"})]})]})]})]})})]})}async function tr(){return await (0,A.invoke)("plugin:safe-area-insets|get_insets")}let to=(0,E.createContext)({insets:{top:0,right:0,bottom:0,left:0},isMobile:!1});function tl({children:e}){let{insets:t,isMobile:n}=function(){let{isMobile:e}=(0,ez.getPlatform)(),[t,n]=(0,E.useState)({top:0,right:0,bottom:0,left:0});return(0,E.useEffect)(()=>{if(!e)return;let t=async()=>{try{let e=await tr();console.log({result:e}),n({top:e.top,right:e.right,bottom:e.bottom,left:e.left}),document.documentElement.style.setProperty("--sat",`${e.top}px`),document.documentElement.style.setProperty("--sar",`${e.right}px`),document.documentElement.style.setProperty("--sab",`${e.bottom}px`),document.documentElement.style.setProperty("--sal",`${e.left}px`)}catch(e){console.error("Failed to get safe area insets:",e)}};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[e]),{insets:t,isMobile:e}}();return(0,S.jsx)(to.Provider,{value:{insets:t,isMobile:n},children:n?(0,S.jsx)("div",{className:"h-screen w-screen overflow-hidden",style:{paddingTop:"var(--sat)",paddingBottom:"var(--sab)",paddingLeft:"var(--sal)",paddingRight:"var(--sar)"},children:(0,S.jsx)("div",{className:"h-full w-full overflow-auto",children:e})}):e})}e.i(52598);var tu=e.i(32087);let td=function(){try{let e="nuqs-localStorage-test";if("undefined"==typeof localStorage)return!1;localStorage.setItem(e,e);let t=localStorage.getItem(e)===e;return localStorage.removeItem(e),t&&(localStorage.getItem("debug")||"").includes("nuqs")}catch{return!1}}();function tc(e,...t){if(!td)return;let n=function(e,...t){return e.replace(/%[sfdO]/g,e=>{let n=t.shift();return"%O"===e&&n?JSON.stringify(n).replace(/"([^"]+)":/g,"$1:"):String(n)})}(e,...t);performance.mark(n);try{console.log(e,...t)}catch{console.log(n)}}let th={303:"Multiple adapter contexts detected. This might happen in monorepos.",404:"nuqs requires an adapter to work with your framework.",409:"Multiple versions of the library are loaded. This may lead to unexpected behavior. Currently using `%s`, but `%s` (via the %s adapter) was about to load on top.",414:"Max safe URL length exceeded. Some browsers may not be able to accept this URL. Consider limiting the amount of state stored in the URL.",422:"Invalid options combination: `limitUrlUpdates: debounce` should be used in SSR scenarios, with `shallow: false`",429:"URL update rate-limited by the browser. Consider increasing `throttleMs` for key(s) `%s`. %O",500:"Empty search params cache. Search params can't be accessed in Layouts.",501:"Search params cache already populated. Have you called `parse` twice?"};function tp(e){return`[nuqs] ${th[e]}
  See https://nuqs.dev/NUQS-${e}`}let tw=(0,E.createContext)({useAdapter(){throw Error(tp(404))}});tw.displayName="NuqsAdapterContext",td&&"undefined"!=typeof window&&(window.__NuqsAdapterContext&&window.__NuqsAdapterContext!==tw&&console.error(tp(303)),window.__NuqsAdapterContext=tw);let tg={method:"throttle",timeMs:function(){if("undefined"==typeof window||!window.GestureEvent)return 50;try{let e=navigator.userAgent?.match(/version\/([\d\.]+) safari/i);return parseFloat(e[1])>=17?120:320}catch{return 320}}()};function tm(e,t,n){let i=setTimeout(function(){e(),n.removeEventListener("abort",s)},t);function s(){clearTimeout(i),n.removeEventListener("abort",s)}n.addEventListener("abort",s)}function tv(){let e=Promise;if(Promise.hasOwnProperty("withResolvers"))return Promise.withResolvers();let t=()=>{},n=()=>{};return{promise:new e((e,i)=>{t=e,n=i}),resolve:t,reject:n}}function ty(){return new URLSearchParams(location.search)}var tb=class{updateMap=new Map;options={history:"replace",scroll:!1,shallow:!0};timeMs=tg.timeMs;transitions=new Set;resolvers=null;controller=null;lastFlushedAt=0;resetQueueOnNextPush=!1;push({key:e,query:t,options:n},i=tg.timeMs){this.resetQueueOnNextPush&&(this.reset(),this.resetQueueOnNextPush=!1),tc("[nuqs gtq] Enqueueing %s=%s %O",e,t,n),this.updateMap.set(e,t),"push"===n.history&&(this.options.history="push"),n.scroll&&(this.options.scroll=!0),!1===n.shallow&&(this.options.shallow=!1),n.startTransition&&this.transitions.add(n.startTransition),(!Number.isFinite(this.timeMs)||i>this.timeMs)&&(this.timeMs=i)}getQueuedQuery(e){return this.updateMap.get(e)}getPendingPromise({getSearchParamsSnapshot:e=ty}){return this.resolvers?.promise??Promise.resolve(e())}flush({getSearchParamsSnapshot:e=ty,rateLimitFactor:t=1,...n},i){if(this.controller??=new AbortController,!Number.isFinite(this.timeMs))return tc("[nuqs gtq] Skipping flush due to throttleMs=Infinity"),Promise.resolve(e());if(this.resolvers)return this.resolvers.promise;this.resolvers=tv();let s=()=>{this.lastFlushedAt=performance.now();let[t,s]=this.applyPendingUpdates({...n,autoResetQueueOnUpdate:n.autoResetQueueOnUpdate??!0,getSearchParamsSnapshot:e},i);null===s?(this.resolvers.resolve(t),this.resetQueueOnNextPush=!0):this.resolvers.reject(t),this.resolvers=null},a=()=>{let e=performance.now()-this.lastFlushedAt,n=this.timeMs,i=t*Math.max(0,n-e);tc("[nuqs gtq] Scheduling flush in %f ms. Throttled at %f ms (x%f)",i,n,t),0===i?s():tm(s,i,this.controller.signal)};return tm(a,0,this.controller.signal),this.resolvers.promise}abort(){return this.controller?.abort(),this.controller=new AbortController,this.resolvers?.resolve(new URLSearchParams),this.resolvers=null,this.reset()}reset(){let e=Array.from(this.updateMap.keys());return tc("[nuqs gtq] Resetting queue %s",JSON.stringify(Object.fromEntries(this.updateMap))),this.updateMap.clear(),this.transitions.clear(),this.options={history:"replace",scroll:!1,shallow:!0},this.timeMs=tg.timeMs,e}applyPendingUpdates(e,t){let{updateUrl:n,getSearchParamsSnapshot:i}=e,s=i();if(tc("[nuqs gtq] Applying %d pending update(s) on top of %s",this.updateMap.size,s.toString()),0===this.updateMap.size)return[s,null];let a=Array.from(this.updateMap.entries()),r={...this.options},o=Array.from(this.transitions);for(let[t,n]of(e.autoResetQueueOnUpdate&&this.reset(),tc("[nuqs gtq] Flushing queue %O with options %O",a,r),a))null===n?s.delete(t):s=function(e,t,n){if("string"==typeof e)n.set(t,e);else{for(let i of(n.delete(t),e))n.append(t,i);n.has(t)||n.set(t,"")}return n}(n,t,s);t&&(s=t(s));try{return!function(e,t){let n=t;for(let t=e.length-1;t>=0;t--){let i=e[t];if(!i)continue;let s=n;n=()=>i(s)}n()}(o,()=>{n(s,r)}),[s,null]}catch(e){return console.error(tp(429),a.map(([e])=>e).join(),e),[s,e]}}};let tk=new tb;var tf=class{callback;resolvers=tv();controller=new AbortController;queuedValue=void 0;constructor(e){this.callback=e}abort(){this.controller.abort(),this.queuedValue=void 0}push(e,t){return this.queuedValue=e,this.controller.abort(),this.controller=new AbortController,tm(()=>{let t=this.resolvers;try{tc("[nuqs dq] Flushing debounce queue",e);let n=this.callback(e);tc("[nuqs dq] Reset debounce queue %O",this.queuedValue),this.queuedValue=void 0,this.resolvers=tv(),n.then(e=>t.resolve(e)).catch(e=>t.reject(e))}catch(e){this.queuedValue=void 0,t.reject(e)}},t,this.controller.signal),this.resolvers.promise}};let tx=new class{throttleQueue;queues=new Map;queuedQuerySync=(function(){let e=new Map;return{on(t,n){let i=e.get(t)||[];return i.push(n),e.set(t,i),()=>this.off(t,n)},off(t,n){let i=e.get(t);i&&e.set(t,i.filter(e=>e!==n))},emit(t,n){e.get(t)?.forEach(e=>e(n))}}})();constructor(e=new tb){this.throttleQueue=e}useQueuedQueries(e){var t,n;let i,s,a;return t=(e,t)=>this.queuedQuerySync.on(e,t),n=e=>this.getQueuedQuery(e),i=(0,E.useCallback)(()=>{let t=Object.fromEntries(e.map(e=>[e,n(e)]));return[JSON.stringify(t),t]},[e.join(","),n]),null===(s=(0,E.useRef)(null)).current&&(s.current=i()),a=(0,E.useCallback)(n=>{let i=e.map(e=>t(e,n));return()=>i.forEach(e=>e())},[e.join(","),t]),(0,E.useSyncExternalStore)(a,()=>{let[e,t]=i();return s.current[0]===e?s.current[1]:(s.current=[e,t],t)},()=>s.current[1])}push(e,t,n){if(!Number.isFinite(t))return Promise.resolve((n.getSearchParamsSnapshot??ty)());let i=e.key;if(!this.queues.has(i)){tc("[nuqs dqc] Creating debounce queue for `%s`",i);let e=new tf(e=>(this.throttleQueue.push(e),this.throttleQueue.flush(n).finally(()=>{this.queues.get(e.key)?.queuedValue===void 0&&(tc("[nuqs dqc] Cleaning up empty queue for `%s`",e.key),this.queues.delete(e.key)),this.queuedQuerySync.emit(e.key)})));this.queues.set(i,e)}tc("[nuqs dqc] Enqueueing debounce update %O",e);let s=this.queues.get(i).push(e,t);return this.queuedQuerySync.emit(i),s}abort(e){let t=this.queues.get(e);return t?(tc("[nuqs dqc] Aborting debounce queue %s=%s",e,t.queuedValue?.query),this.queues.delete(e),t.abort(),this.queuedQuerySync.emit(e),e=>(e.then(t.resolvers.resolve,t.resolvers.reject),e)):e=>e}abortAll(){for(let[e,t]of this.queues.entries())tc("[nuqs dqc] Aborting debounce queue %s=%s",e,t.queuedValue?.query),t.abort(),t.resolvers.resolve(new URLSearchParams),this.queuedQuerySync.emit(e);this.queues.clear()}getQueuedQuery(e){let t=this.queues.get(e)?.queuedValue?.query;return void 0!==t?t:this.throttleQueue.getQueuedQuery(e)}}(tk);function t_(){tc("[nuqs] Aborting queues"),tx.abortAll(),tk.abort().forEach(e=>tx.queuedQuerySync.emit(e))}var tS=e.i(97923);let tE=0;function tA(){tE=0,t_()}function tC(){--tE<=0&&(tE=0,queueMicrotask(t_))}function tI(){return(0,E.useEffect)(()=>(!function(){var e;if(e="next/app","undefined"==typeof history||(history.nuqs?.version&&"0.0.0-inject-version-here"!==history.nuqs.version?(console.error(tp(409),history.nuqs.version,"0.0.0-inject-version-here",e),!0):!!history.nuqs?.adapters?.includes(e)))return;let t=history.replaceState,n=history.pushState;history.replaceState=function(e,n,i){return tC(),t.call(history,e,n,i)},history.pushState=function(e,t,i){return tC(),n.call(history,e,t,i)},history.nuqs=history.nuqs??{version:"0.0.0-inject-version-here",adapters:[]},history.nuqs.adapters.push("next/app")}(),window.addEventListener("popstate",tA),()=>window.removeEventListener("popstate",tA)),[]),null}let tN=(c=function(){let e=(0,tS.useRouter)(),t=(0,tS.useSearchParams)(),[n,i]=(0,E.useOptimistic)(t);return{searchParams:n,updateUrl:(0,E.useCallback)((t,n)=>{(0,E.startTransition)(()=>{n.shallow||i(t);let s=function(e){let{origin:t,pathname:n,hash:i}=location;return t+n+function(e){if(0===e.size)return"";let t=[];for(let[n,i]of e.entries()){let e=n.replace(/#/g,"%23").replace(/&/g,"%26").replace(/\+/g,"%2B").replace(/=/g,"%3D").replace(/\?/g,"%3F");t.push(`${e}=${i.replace(/%/g,"%25").replace(/\+/g,"%2B").replace(/ /g,"+").replace(/#/g,"%23").replace(/&/g,"%26").replace(/"/g,"%22").replace(/'/g,"%27").replace(/`/g,"%60").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/[\x00-\x1F]/g,e=>encodeURIComponent(e))}`)}return"?"+t.join("&")}(e)+i}(t);tc("[nuqs next/app] Updating url: %s",s);let a="push"===n.history?history.pushState:history.replaceState;tE=3,a.call(history,null,"",s),n.scroll&&window.scrollTo(0,0),n.shallow||e.replace(s,{scroll:!1})})},[]),rateLimitFactor:3,autoResetQueueOnUpdate:!1}},({children:e,defaultOptions:t,processUrlSearchParams:n,...i})=>(0,E.createElement)(tw.Provider,{...i,value:{useAdapter:c,defaultOptions:t,processUrlSearchParams:n}},e));function tP({children:e,...t}){return(0,E.createElement)(tN,{...t,children:[(0,E.createElement)(E.Suspense,{key:"nuqs-adapter-suspense-navspy",children:(0,E.createElement)(tI)}),e]})}function tL({children:e}){let t=(0,X.useFirebaseApp)();return(0,S.jsx)(X.StorageProvider,{sdk:(0,et.getStorage)(t),children:e})}function tT({children:e}){let{data:t}=(0,X.useInitFirestore)(async e=>{try{return(0,tu.initializeFirestore)(e,{localCache:(0,tu.persistentLocalCache)({tabManager:(0,tu.persistentMultipleTabManager)()})})}catch{return(0,tu.getFirestore)(e)}});return(0,S.jsx)(X.FirestoreProvider,{sdk:t,children:e})}function tF({children:e}){let{isDesktop:t,isMobile:n}=(0,E.useMemo)(()=>(0,ez.getPlatform)(),[]);return(0,E.useEffect)(()=>{t&&eH(!1)},[t]),(0,E.useEffect)(()=>{"__TAURI__"in window&&eD()},[]),(0,S.jsx)(tl,{children:n?(0,S.jsx)(ta,{children:e}):e})}function tM({children:e}){return(0,S.jsx)(X.FirebaseAppProvider,{firebaseConfig:en.firebaseConfig,suspense:!0,children:(0,S.jsx)(tP,{children:(0,S.jsx)(z,{FallbackComponent:U,children:(0,S.jsx)(O.TooltipProvider,{children:(0,S.jsx)(B.ThemeProvider,{defaultTheme:"system",children:(0,S.jsx)(X.SuspenseWithPerf,{fallback:(0,S.jsx)(ee.Spinner,{fullScreen:!0,className:"size-7"}),traceId:"app-init",children:(0,S.jsx)(tT,{children:(0,S.jsx)(tF,{children:(0,S.jsx)(X.SuspenseWithPerf,{fallback:(0,S.jsx)(ee.Spinner,{fullScreen:!0,className:"size-7"}),traceId:"auth-init",children:(0,S.jsx)(Y.AuthProvider,{children:(0,S.jsx)(X.SuspenseWithPerf,{fallback:(0,S.jsx)(ee.Spinner,{fullScreen:!0,className:"size-7"}),traceId:"shop-init",children:(0,S.jsx)(K.ShopProvider,{children:(0,S.jsxs)(tL,{children:[e,(0,S.jsx)(J,{richColors:!0})]})})})})})})})})})})})})})}e.s(["default",()=>tM],44636)}]);