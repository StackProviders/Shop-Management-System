# VISUAL SYSTEM DIAGRAMS

## ðŸ“Š DATABASE ENTITY RELATIONSHIP DIAGRAM

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         COMPLETE DATABASE SCHEMA                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚    SHOPS     â”‚
                              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                              â”‚ id (PK)      â”‚
                              â”‚ shopName     â”‚
                              â”‚ ownerId      â”‚
                              â”‚ settings     â”‚
                              â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                     â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                â”‚                â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
         â”‚     ITEMS      â”‚  â”‚   PARTIES   â”‚  â”‚  LOCATIONS â”‚
         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
         â”‚ id (PK)        â”‚  â”‚ id (PK)     â”‚  â”‚ id (PK)    â”‚
         â”‚ shopId (FK)    â”‚  â”‚ shopId (FK) â”‚  â”‚ shopId (FK)â”‚
         â”‚ name           â”‚  â”‚ name        â”‚  â”‚ name       â”‚
         â”‚ itemCode       â”‚  â”‚ type        â”‚  â”‚ type       â”‚
         â”‚ type           â”‚  â”‚ phoneNumber â”‚  â”‚ address    â”‚
         â”‚ salePrice      â”‚  â”‚ email       â”‚  â”‚ isDefault  â”‚
         â”‚ purchasePrice  â”‚  â”‚ balance     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ currentStock   â”‚  â”‚ creditLimit â”‚
         â”‚ barcode        â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ serialTracking â”‚        â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
                  â”‚                â”‚
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚           â”‚                â”‚               â”‚
â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚CATEGORIES  â”‚ â”‚STOCK         â”‚ â”‚   SALES    â”‚ â”‚ PURCHASES  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚TRANSACTIONS  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)    â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ id (PK)    â”‚ â”‚ id (PK)    â”‚
â”‚ shopId(FK) â”‚ â”‚ id (PK)      â”‚ â”‚ shopId(FK) â”‚ â”‚ shopId(FK) â”‚
â”‚ name       â”‚ â”‚ shopId (FK)  â”‚ â”‚ partyId(FK)â”‚ â”‚ partyId(FK)â”‚
â”‚ parentId   â”‚ â”‚ itemId (FK)  â”‚ â”‚ saleNumber â”‚ â”‚ purchaseNo â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ type         â”‚ â”‚ items[]    â”‚ â”‚ items[]    â”‚
               â”‚ quantity     â”‚ â”‚ total      â”‚ â”‚ total      â”‚
               â”‚ balanceAfter â”‚ â”‚ status     â”‚ â”‚ status     â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                 â”‚              â”‚         â”‚
            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”‚
            â”‚  QUOTATIONS  â”‚  â”‚   PAYMENTS   â”‚  â”‚ EXPENSES â”‚ â”‚
            â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
            â”‚ id (PK)      â”‚  â”‚ id (PK)      â”‚  â”‚ id (PK)  â”‚ â”‚
            â”‚ shopId (FK)  â”‚  â”‚ shopId (FK)  â”‚  â”‚ shopId   â”‚ â”‚
            â”‚ partyId (FK) â”‚  â”‚ partyId (FK) â”‚  â”‚ category â”‚ â”‚
            â”‚ items[]      â”‚  â”‚ amount       â”‚  â”‚ amount   â”‚ â”‚
            â”‚ status       â”‚  â”‚ type         â”‚  â”‚ date     â”‚ â”‚
            â”‚ validUntil   â”‚  â”‚ method       â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
                                                              â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚           â”‚           â”‚
  â”Œâ”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚SALE RETURN â”‚ â”‚PURCHASE  â”‚ â”‚  TAXES    â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ RETURN   â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚ id (PK)    â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚ id (PK)   â”‚
  â”‚ shopId(FK) â”‚ â”‚ id (PK)  â”‚ â”‚ shopId(FK)â”‚
  â”‚ saleId(FK) â”‚ â”‚ shopId   â”‚ â”‚ name      â”‚
  â”‚ items[]    â”‚ â”‚ purchaseIdâ”‚ â”‚ rate      â”‚
  â”‚ refund     â”‚ â”‚ items[]  â”‚ â”‚ type      â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ refund   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚SERIAL        â”‚  â”‚STOCK         â”‚  â”‚PRICING       â”‚  â”‚ACCOUNTS      â”‚
â”‚NUMBERS       â”‚  â”‚ADJUSTMENTS   â”‚  â”‚RULES         â”‚  â”‚              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ id (PK)      â”‚  â”‚ id (PK)      â”‚  â”‚ id (PK)      â”‚  â”‚ id (PK)      â”‚
â”‚ shopId (FK)  â”‚  â”‚ shopId (FK)  â”‚  â”‚ shopId (FK)  â”‚  â”‚ shopId (FK)  â”‚
â”‚ itemId (FK)  â”‚  â”‚ items[]      â”‚  â”‚ name         â”‚  â”‚ accountCode  â”‚
â”‚ serialNumber â”‚  â”‚ reason       â”‚  â”‚ type         â”‚  â”‚ accountName  â”‚
â”‚ status       â”‚  â”‚ notes        â”‚  â”‚ discount     â”‚  â”‚ accountType  â”‚
â”‚ purchaseId   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ validFrom    â”‚  â”‚ balance      â”‚
â”‚ saleId       â”‚                    â”‚ validUntil   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ”„ COMPLETE DATA FLOW DIAGRAM

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         TRANSACTION FLOWS                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. PURCHASE FLOW
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Create   â”‚â”€â”€â”€â–ºâ”‚ Validate â”‚â”€â”€â”€â–ºâ”‚  Update  â”‚â”€â”€â”€â–ºâ”‚  Create  â”‚â”€â”€â”€â–ºâ”‚  Update  â”‚
   â”‚ Purchase â”‚    â”‚  Items   â”‚    â”‚   Item   â”‚    â”‚  Stock   â”‚    â”‚  Party   â”‚
   â”‚          â”‚    â”‚  Stock   â”‚    â”‚  Stock   â”‚    â”‚Transactionâ”‚   â”‚ Balance  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚               â”‚                â”‚               â”‚               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚  TRANSACTION   â”‚
                            â”‚   (Atomic)     â”‚
                            â”‚                â”‚
                            â”‚ â€¢ Purchase Doc â”‚
                            â”‚ â€¢ Stock Update â”‚
                            â”‚ â€¢ Party Update â”‚
                            â”‚ â€¢ Serial Nos   â”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

2. SALE FLOW
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Create   â”‚â”€â”€â”€â–ºâ”‚  Check   â”‚â”€â”€â”€â–ºâ”‚  Reduce  â”‚â”€â”€â”€â–ºâ”‚  Create  â”‚â”€â”€â”€â–ºâ”‚  Update  â”‚
   â”‚   Sale   â”‚    â”‚  Stock   â”‚    â”‚   Item   â”‚    â”‚  Stock   â”‚    â”‚  Party   â”‚
   â”‚          â”‚    â”‚Available â”‚    â”‚  Stock   â”‚    â”‚Transactionâ”‚   â”‚ Balance  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚               â”‚                â”‚               â”‚               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                            â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                            â”‚  TRANSACTION   â”‚
                            â”‚   (Atomic)     â”‚
                            â”‚                â”‚
                            â”‚ â€¢ Sale Doc     â”‚
                            â”‚ â€¢ Stock Update â”‚
                            â”‚ â€¢ Party Update â”‚
                            â”‚ â€¢ Serial Nos   â”‚
                            â”‚ â€¢ Journal Entryâ”‚
                            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3. PAYMENT FLOW
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Create   â”‚â”€â”€â”€â–ºâ”‚  Update  â”‚â”€â”€â”€â–ºâ”‚  Create  â”‚â”€â”€â”€â–ºâ”‚  Create  â”‚
   â”‚ Payment  â”‚    â”‚  Party   â”‚    â”‚ Payment  â”‚    â”‚ Journal  â”‚
   â”‚          â”‚    â”‚ Balance  â”‚    â”‚   Doc    â”‚    â”‚  Entry   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚               â”‚                â”‚               â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  TRANSACTION   â”‚
                    â”‚   (Atomic)     â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

4. RETURN FLOW
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Create   â”‚â”€â”€â”€â–ºâ”‚ Validate â”‚â”€â”€â”€â–ºâ”‚  Update  â”‚â”€â”€â”€â–ºâ”‚  Create  â”‚â”€â”€â”€â–ºâ”‚  Update  â”‚
   â”‚  Return  â”‚    â”‚ Original â”‚    â”‚   Item   â”‚    â”‚  Stock   â”‚    â”‚  Party   â”‚
   â”‚          â”‚    â”‚   Sale   â”‚    â”‚  Stock   â”‚    â”‚Transactionâ”‚   â”‚ Balance  â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

5. QUOTATION TO SALE FLOW
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚ Quotationâ”‚â”€â”€â”€â–ºâ”‚ Convert  â”‚â”€â”€â”€â–ºâ”‚  Create  â”‚
   â”‚ Accepted â”‚    â”‚   to     â”‚    â”‚   Sale   â”‚
   â”‚          â”‚    â”‚  Sale    â”‚    â”‚          â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ—ï¸ FEATURE MODULE ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FEATURE STRUCTURE                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

src/features/
â”‚
â”œâ”€â”€ auth/                    âœ… IMPLEMENTED
â”‚   â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ types/
â”‚
â”œâ”€â”€ shop/                    âœ… IMPLEMENTED
â”‚   â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ types/
â”‚
â”œâ”€â”€ inventory/               ðŸ”„ IN PROGRESS
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ items.api.ts
â”‚   â”‚   â”œâ”€â”€ categories.api.ts
â”‚   â”‚   â”œâ”€â”€ stock.api.ts
â”‚   â”‚   â””â”€â”€ serial-numbers.api.ts
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ items/
â”‚   â”‚   â”‚   â”œâ”€â”€ item-list.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ item-form.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ item-card.tsx
â”‚   â”‚   â”‚   â””â”€â”€ item-search.tsx
â”‚   â”‚   â”œâ”€â”€ stock/
â”‚   â”‚   â”‚   â”œâ”€â”€ stock-history.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ adjustment-form.tsx
â”‚   â”‚   â”‚   â””â”€â”€ transfer-form.tsx
â”‚   â”‚   â””â”€â”€ categories/
â”‚   â”‚       â””â”€â”€ category-tree.tsx
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ use-items.ts
â”‚   â”‚   â”œâ”€â”€ use-item-actions.ts
â”‚   â”‚   â”œâ”€â”€ use-stock-actions.ts
â”‚   â”‚   â””â”€â”€ use-categories.ts
â”‚   â”œâ”€â”€ stores/
â”‚   â”‚   â””â”€â”€ use-item-store.ts
â”‚   â””â”€â”€ types/
â”‚       â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ parties/                 â³ NEXT
â”‚   â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ types/
â”‚
â”œâ”€â”€ sales/                   â³ PHASE 1
â”‚   â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ types/
â”‚
â”œâ”€â”€ purchases/               â³ PHASE 1
â”œâ”€â”€ payments/                â³ PHASE 2
â”œâ”€â”€ expenses/                â³ PHASE 2
â”œâ”€â”€ quotations/              â³ PHASE 2
â”œâ”€â”€ returns/                 â³ PHASE 3
â”œâ”€â”€ locations/               â³ PHASE 3
â”œâ”€â”€ taxes/                   â³ PHASE 3
â”œâ”€â”€ pricing/                 â³ PHASE 3
â”œâ”€â”€ accounting/              â³ PHASE 4
â”œâ”€â”€ reports/                 â³ PHASE 4
â””â”€â”€ notifications/           â³ PHASE 4
```

## ðŸ“± RESPONSIVE UI ARCHITECTURE

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         RESPONSIVE LAYOUTS                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DESKTOP (>768px)                    MOBILE (<768px)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚     â”‚   Header      â”‚ â”‚        â”‚  â”‚   Header   â”‚  â”‚
â”‚ â”‚     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ â”‚ S   â”‚               â”‚ â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ i   â”‚               â”‚ â”‚        â”‚  â”‚            â”‚  â”‚
â”‚ â”‚ d   â”‚    Content    â”‚ â”‚        â”‚  â”‚  Content   â”‚  â”‚
â”‚ â”‚ e   â”‚               â”‚ â”‚        â”‚  â”‚            â”‚  â”‚
â”‚ â”‚ b   â”‚               â”‚ â”‚        â”‚  â”‚            â”‚  â”‚
â”‚ â”‚ a   â”‚               â”‚ â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚ â”‚ r   â”‚               â”‚ â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚     â”‚               â”‚ â”‚        â”‚  â”‚ Bottom Nav â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

MODAL PATTERNS
Desktop: Dialog (Center)           Mobile: Drawer (Bottom)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         â”‚        â”‚                  â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚        â”‚                  â”‚
â”‚    â”‚           â”‚        â”‚        â”‚                  â”‚
â”‚    â”‚  Dialog   â”‚        â”‚        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚    â”‚           â”‚        â”‚        â”‚  â”‚            â”‚ â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚        â”‚  â”‚   Drawer   â”‚ â”‚
â”‚                         â”‚        â”‚  â”‚            â”‚ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ðŸ” SECURITY & PERMISSIONS

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         PERMISSION MATRIX                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    Owner  Admin  Manager  Staff  Viewer
Shop Management      âœ“      âœ“       âœ—       âœ—      âœ—
Member Management    âœ“      âœ“       âœ—       âœ—      âœ—
Items - View         âœ“      âœ“       âœ“       âœ“      âœ“
Items - Create       âœ“      âœ“       âœ“       âœ—      âœ—
Items - Edit         âœ“      âœ“       âœ“       âœ—      âœ—
Items - Delete       âœ“      âœ“       âœ—       âœ—      âœ—
Sales - View         âœ“      âœ“       âœ“       âœ“      âœ“
Sales - Create       âœ“      âœ“       âœ“       âœ“      âœ—
Sales - Edit         âœ“      âœ“       âœ“       âœ—      âœ—
Sales - Delete       âœ“      âœ“       âœ—       âœ—      âœ—
Purchases - View     âœ“      âœ“       âœ“       âœ—      âœ—
Purchases - Create   âœ“      âœ“       âœ“       âœ—      âœ—
Reports - View       âœ“      âœ“       âœ“       âœ—      âœ—
Reports - Export     âœ“      âœ“       âœ—       âœ—      âœ—
Accounting - View    âœ“      âœ“       âœ—       âœ—      âœ—
Accounting - Edit    âœ“      âœ—       âœ—       âœ—      âœ—
```

## ðŸ“Š IMPLEMENTATION ROADMAP

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         DEVELOPMENT PHASES                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

PHASE 1: MVP (Weeks 1-3)
â”œâ”€ âœ… Authentication
â”œâ”€ âœ… Shop Management
â”œâ”€ ðŸ”„ Inventory Module
â”‚   â”œâ”€ Items CRUD
â”‚   â”œâ”€ Categories
â”‚   â”œâ”€ Stock Management
â”‚   â””â”€ Barcode Scanning
â”œâ”€ â³ Parties Module
â”‚   â”œâ”€ Customer Management
â”‚   â””â”€ Supplier Management
â”œâ”€ â³ Basic Sales
â””â”€ â³ Basic Purchases

PHASE 2: Core Features (Weeks 4-7)
â”œâ”€ Payments
â”œâ”€ Quotations
â”œâ”€ Stock Adjustments
â”œâ”€ Basic Reports
â”‚   â”œâ”€ Sales Report
â”‚   â”œâ”€ Purchase Report
â”‚   â””â”€ Stock Report
â””â”€ Notifications

PHASE 3: Advanced (Weeks 8-12)
â”œâ”€ Expenses
â”œâ”€ Returns (Sale & Purchase)
â”œâ”€ Multi-location
â”œâ”€ Taxes
â”œâ”€ Pricing Rules
â””â”€ Advanced Reports
    â”œâ”€ Profit/Loss
    â”œâ”€ Party Ledger
    â””â”€ Tax Reports

PHASE 4: Enterprise (Weeks 13-20)
â”œâ”€ Accounting Module
â”‚   â”œâ”€ Chart of Accounts
â”‚   â”œâ”€ Journal Entries
â”‚   â”œâ”€ Ledger
â”‚   â””â”€ Financial Statements
â”œâ”€ Stock Transfers
â”œâ”€ Recurring Expenses
â”œâ”€ Advanced Analytics
â””â”€ Integrations
```

## ðŸŽ¯ QUERY OPTIMIZATION

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         FIRESTORE OPTIMIZATION                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

1. ALWAYS FILTER BY shopId FIRST
   âœ“ where('shopId', '==', shopId)
   âœ— Direct collection query

2. USE COMPOSITE INDEXES
   âœ“ shopId + type + createdAt
   âœ“ shopId + status + createdAt
   âœ— Multiple separate where clauses

3. LIMIT RESULTS
   âœ“ limit(50)
   âœ— Fetching all documents

4. PAGINATION
   âœ“ startAfter(lastDoc)
   âœ— Offset-based pagination

5. DENORMALIZATION
   âœ“ Store itemName in sale items
   âœ— Join queries

6. BATCH OPERATIONS
   âœ“ documentId() IN [ids] (max 10)
   âœ— Multiple single reads

7. REAL-TIME SUBSCRIPTIONS
   âœ“ Only for active screens
   âœ— Global subscriptions

8. CACHING
   âœ“ ReactFire cache
   âœ— No caching strategy
```

This complete architecture provides a clear roadmap for implementing all features systematically.
